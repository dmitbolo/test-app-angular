"use strict";(self.webpackChunktestDb=self.webpackChunktestDb||[]).push([[179],{35:()=>{function De(t){return"function"==typeof t}function hc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ah=hc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ra(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class An{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof Ah?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Bx(s)}catch(o){e=e??[],o instanceof Ah?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ah(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bx(e);else{if(e instanceof An){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ra(n,e)}remove(e){const{_finalizers:n}=this;n&&ra(n,e),e instanceof An&&e._removeParent(this)}}An.EMPTY=(()=>{const t=new An;return t.closed=!0,t})();const Vx=An.EMPTY;function Ux(t){return t instanceof An||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function Bx(t){De(t)?t():t.unsubscribe()}const Us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xh={setTimeout(t,e,...n){const{delegate:r}=xh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=xh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $x(t){xh.setTimeout(()=>{const{onUnhandledError:e}=Us;if(!e)throw t;e(t)})}function jx(){}const D4=L_("C",void 0,void 0);function L_(t,e,n){return{kind:t,value:e,error:n}}let Bs=null;function Nh(t){if(Us.useDeprecatedSynchronousErrorHandling){const e=!Bs;if(e&&(Bs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Bs;if(Bs=null,n)throw r}}else t()}class F_ extends An{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ux(e)&&e.add(this)):this.destination=M4}static create(e,n,r){return new fc(e,n,r)}next(e){this.isStopped?U_(function S4(t){return L_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?U_(function b4(t){return L_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?U_(D4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x4=Function.prototype.bind;function V_(t,e){return x4.call(t,e)}class N4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rh(r)}else Rh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rh(n)}}}class fc extends F_{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&V_(e.next,s),error:e.error&&V_(e.error,s),complete:e.complete&&V_(e.complete,s)}):i=e}this.destination=new N4(i)}}function Rh(t){Us.useDeprecatedSynchronousErrorHandling?function A4(t){Us.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=t)}(t):$x(t)}function U_(t,e){const{onStoppedNotification:n}=Us;n&&xh.setTimeout(()=>n(t,e))}const M4={closed:!0,next:jx,error:function R4(t){throw t},complete:jx},B_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bi(t){return t}function Hx(t){return 0===t.length?Bi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let et=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function O4(t){return t&&t instanceof F_||function P4(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&Ux(t)}(n)?n:new fc(n,r,i);return Nh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=zx(r))((i,s)=>{const o=new fc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[B_](){return this}pipe(...n){return Hx(n)(this)}toPromise(n){return new(n=zx(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function zx(t){var e;return null!==(e=t??Us.Promise)&&void 0!==e?e:Promise}const L4=hc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class t extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Gx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new L4}next(n){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Vx:(this.currentObservers=null,s.push(n),new An(()=>{this.currentObservers=null,ra(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return t.create=(e,n)=>new Gx(e,n),t})();class Gx extends ni{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Vx}}class jn extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function qx(t){return De(t?.lift)}function wt(t){return e=>{if(qx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(t,e,n,r,i){return new F4(t,e,n,r,i)}class F4 extends F_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(t,e){return wt((n,r)=>{let i=0;n.subscribe(It(r,s=>{r.next(t.call(e,s,i++))}))})}function H_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function Yx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function G_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xx=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Jx(t){return De(t?.then)}function Zx(t){return De(t[B_])}function eN(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function tN(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nN=function iq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rN(t){return De(t?.[nN])}function iN(t){return function Qx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof $i?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $i(n.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{n.releaseLock()}})}function sN(t){return De(t?.getReader)}function tr(t){if(t instanceof et)return t;if(null!=t){if(Zx(t))return function sq(t){return new et(e=>{const n=t[B_]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Xx(t))return function oq(t){return new et(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Jx(t))return function aq(t){return new et(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$x)})}(t);if(eN(t))return oN(t);if(rN(t))return function uq(t){return new et(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(sN(t))return function cq(t){return oN(iN(t))}(t)}throw tN(t)}function oN(t){return new et(e=>{(function lq(t,e){var n,r,i,s;return function Wx(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Yx(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ri(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kt(t,e,n=1/0){return De(e)?kt((r,i)=>Ne((s,o)=>e(r,s,i,o))(tr(t(r,i))),n):("number"==typeof e&&(n=e),wt((r,i)=>function dq(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;tr(n(g,l++)).subscribe(It(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?ri(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(It(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ia(t=1/0){return kt(Bi,t)}const Ir=new et(t=>t.complete());function q_(t){return t[t.length-1]}function pc(t){return function fq(t){return t&&De(t.schedule)}(q_(t))?t.pop():void 0}function Mh(t,e=0){return wt((n,r)=>{n.subscribe(It(r,i=>ri(r,t,()=>r.next(i),e),()=>ri(r,t,()=>r.complete(),e),i=>ri(r,t,()=>r.error(i),e)))})}function kh(t,e=0){return wt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aN(t,e){if(!t)throw new Error("Iterable cannot be null");return new et(n=>{ri(n,e,()=>{const r=t[Symbol.asyncIterator]();ri(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Pt(t,e){return e?function Iq(t,e){if(null!=t){if(Zx(t))return function mq(t,e){return tr(t).pipe(kh(e),Mh(e))}(t,e);if(Xx(t))return function yq(t,e){return new et(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Jx(t))return function _q(t,e){return tr(t).pipe(kh(e),Mh(e))}(t,e);if(eN(t))return aN(t,e);if(rN(t))return function vq(t,e){return new et(n=>{let r;return ri(n,e,()=>{r=t[nN](),ri(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(sN(t))return function wq(t,e){return aN(iN(t),e)}(t,e)}throw tN(t)}(t,e):tr(t)}function z(...t){return Pt(t,pc(t))}function uN(t={}){const{connector:e=(()=>new ni),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return wt((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=W_(p,i))}),w.subscribe(m),!o&&c>0&&(o=new fc({next:y=>w.next(y),error:y=>{d=!0,h(),a=W_(f,n,y),w.error(y)},complete:()=>{l=!0,h(),a=W_(f,r),w.complete()}}),tr(g).subscribe(o))})(s)}}function W_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fc({next:()=>{r.unsubscribe(),t()}});return tr(e(...n)).subscribe(r)}function Er(t,e){return wt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(It(r,u=>{i?.unsubscribe();let c=0;const l=s++;tr(t(u,l)).subscribe(i=It(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Tq(t,e){return t===e}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function K_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Dq=we({__forward_ref__:we});function Q_(t){return t.__forward_ref__=Q_,t.toString=function(){return ft(this())},t}function G(t){return Y_(t)?t():t}function Y_(t){return"function"==typeof t&&t.hasOwnProperty(Dq)&&t.__forward_ref__===Q_}function X_(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function Oh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function J_(t,e){throw new b(-201,!1)}function Hn(t,e){null==t&&function pe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lh(t){return lN(t,Fh)||lN(t,hN)}function lN(t,e){return t.hasOwnProperty(e)?t[e]:null}function dN(t){return t&&(t.hasOwnProperty(Z_)||t.hasOwnProperty(kq))?t[Z_]:null}const Fh=we({\u0275prov:we}),Z_=we({\u0275inj:we}),hN=we({ngInjectableDef:we}),kq=we({ngInjectorDef:we});var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{});let ey;function mn(t){const e=ey;return ey=t,e}function pN(t,e,n){const r=Lh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==e?e:void J_(ft(t))}const Se=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gc={},ty="__NG_DI_FLAG__",Vh="ngTempTokenPath",Oq=/\n/gm,gN="__source";let sa;function ji(t){const e=sa;return sa=t,e}function Vq(t,e=ne.Default){if(void 0===sa)throw new b(-203,!1);return null===sa?pN(t,void 0,e):sa.get(t,e&ne.Optional?null:void 0,e)}function B(t,e=ne.Default){return(function fN(){return ey}()||Vq)(G(t),e)}function L(t,e=ne.Default){return B(t,Uh(e))}function Uh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ny(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Uq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function mc(t,e){return t[ty]=e,t.prototype[ty]=e,t}function Uq(t){return t[ty]}function ii(t){return{toString:t}.toString()}var Bh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bh||{}),nr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nr||{});const Cr={},de=[],$h=we({\u0275cmp:we}),ry=we({\u0275dir:we}),iy=we({\u0275pipe:we}),_N=we({\u0275mod:we}),si=we({\u0275fac:we}),_c=we({__NG_ELEMENT_ID__:we}),yN=we({__NG_ENV_ID__:we});function vN(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function sy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];IN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function wN(t){return 3===t||4===t||6===t}function IN(t){return 64===t.charCodeAt(0)}function yc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||EN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function EN(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const CN="ng-template";function jq(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==vN(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function TN(t){return 4===t.type&&t.value!==CN}function Hq(t,e,n){return e===(4!==t.type||n?t.value:CN)}function zq(t,e,n){let r=4;const i=t.attrs||[],s=function Wq(t){for(let e=0;e<t.length;e++)if(wN(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Hq(t,u,n)||""===u&&1===e.length){if(rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!jq(t.attrs,c,n)){if(rr(r))return!1;o=!0}continue}const d=Gq(8&r?"class":u,i,TN(t),n);if(-1===d){if(rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==vN(f,c,0)||2&r&&c!==h){if(rr(r))return!1;o=!0}}}}else{if(!o&&!rr(r)&&!rr(u))return!1;if(o&&rr(u))continue;o=!1,r=u|1&r}}return rr(r)||o}function rr(t){return 0==(1&t)}function Gq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Kq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function DN(t,e,n=!1){for(let r=0;r<e.length;r++)if(zq(t,e[r],n))return!0;return!1}function bN(t,e){return t?":not("+e.trim()+")":e}function Yq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!rr(o)&&(e+=bN(s,i),i=""),r=o,s=s||!rr(r);n++}return""!==i&&(e+=bN(s,i)),e}function oy(t){return ii(()=>{const e=AN(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nr.Emulated,styles:t.styles||de,_:null,schemas:t.schemas||null,tView:null,id:""};xN(n);const r=t.dependencies;return n.directiveDefs=jh(r,!1),n.pipeDefs=jh(r,!0),n.id=function iW(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function eW(t){return ge(t)||zt(t)}function tW(t){return null!==t}function ir(t){return ii(()=>({type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function SN(t,e){if(null==t)return Cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function sn(t){return ii(()=>{const e=AN(t);return xN(e),e})}function ge(t){return t[$h]||null}function zt(t){return t[ry]||null}function yn(t){return t[iy]||null}function Nn(t,e){const n=t[_N]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function AN(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SN(t.inputs,e),outputs:SN(t.outputs)}}function xN(t){t.features?.forEach(e=>e(t))}function jh(t,e){if(!t)return null;const n=e?yn:eW;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(tW)}const pt=0,M=1,Y=2,ze=3,sr=4,vc=5,Gt=6,aa=7,tt=8,ua=9,js=10,X=11,wc=12,NN=13,ca=14,nt=15,Ic=16,la=17,Tr=18,Ec=19,RN=20,Hi=21,oi=22,Hh=23,zh=24,oe=25,ay=1,MN=2,Dr=7,da=9,qt=11;function Rn(t){return Array.isArray(t)&&"object"==typeof t[ay]}function vn(t){return Array.isArray(t)&&!0===t[ay]}function uy(t){return 0!=(4&t.flags)}function Hs(t){return t.componentOffset>-1}function or(t){return!!t.template}function cy(t){return 0!=(512&t[Y])}function zs(t,e){return t.hasOwnProperty(si)?t[si]:null}let lW=Se.WeakRef??class cW{constructor(e){this.ref=e}deref(){return this.ref}},hW=0,br=null,Wh=!1;function Et(t){const e=br;return br=t,e}class FN{constructor(){this.id=hW++,this.ref=function dW(t){return new lW(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Wh;Wh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Wh=e}}producerAccessed(){if(Wh)throw new Error("");if(null===br)return;let e=br.producers.get(this.id);void 0===e?(e={consumerNode:br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:br.trackingVersion},br.producers.set(this.id,e),this.consumers.set(br.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==br?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let VN=null;const BN=()=>{};class mW extends FN{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=BN,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Et(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=BN,this.watch(this.registerOnCleanup)}finally{Et(e)}}cleanup(){this.cleanupFn()}}class _W{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gs(){return $N}function $N(t){return t.type.prototype.ngOnChanges&&(t.setInput=vW),yW}function yW(){const t=HN(this),e=t?.current;if(e){const n=t.previous;if(n===Cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vW(t,e,n,r){const i=this.declaredInputs[n],s=HN(t)||function wW(t,e){return t[jN]=e}(t,{previous:Cr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new _W(u&&u.currentValue,e,a===Cr),t[r]=e}Gs.ngInherit=!0;const jN="__ngSimpleChanges__";function HN(t){return t[jN]||null}const Sr=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[pt];return t}function wn(t,e){return Le(e[t.index])}function Mn(t,e){const n=e[t];return Rn(n)?n:n[pt]}function zi(t,e){return null==e?null:t[e]}function WN(t){t[la]=0}function SW(t){1024&t[Y]||(t[Y]|=1024,QN(t,1))}function KN(t){1024&t[Y]&&(t[Y]&=-1025,QN(t,-1))}function QN(t,e){let n=t[ze];if(null===n)return;n[vc]+=e;let r=n;for(n=n[ze];null!==n&&(1===e&&1===r[vc]||-1===e&&0===r[vc]);)n[vc]+=e,r=n,n=n[ze]}const H={lFrame:oR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JN(){return H.bindingsEnabled}function E(){return H.lFrame.lView}function ue(){return H.lFrame.tView}function Ot(){let t=ZN();for(;null!==t&&64===t.type;)t=t.parent;return t}function ZN(){return H.lFrame.currentTNode}function Ar(t,e){const n=H.lFrame;n.currentTNode=t,n.isParent=e}function gy(){return H.lFrame.isParent}function $W(t,e){const n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,_y(e)}function _y(t){H.lFrame.currentDirectiveIndex=t}function vy(t){H.lFrame.currentQueryIndex=t}function HW(t){const e=t[M];return 2===e.type?e.declTNode:1===e.type?t[Gt]:null}function iR(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ne.Host||(i=HW(s),null===i||(s=s[ca],10&i.type))););if(null===i)return!1;e=i,t=s}const r=H.lFrame=sR();return r.currentTNode=e,r.lView=t,!0}function wy(t){const e=sR(),n=t[M];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sR(){const t=H.lFrame,e=null===t?null:t.child;return null===e?oR(t):e}function oR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function aR(){const t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const uR=aR;function Iy(){const t=aR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return H.lFrame.selectedIndex}function qs(t){H.lFrame.selectedIndex=t}let lR=!0;function Xh(){return lR}function Gi(t){lR=t}function Jh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Zh(t,e,n){dR(t,e,3,n)}function ef(t,e,n,r){(3&t[Y])===n&&dR(t,e,n,r)}function Ey(t,e){let n=t[Y];(3&n)===e&&(n&=8191,n+=1,t[Y]=n)}function dR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[la]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[la]+=65536),(a<s||-1==s)&&(XW(t,n,e,u),t[la]=(4294901760&t[la])+u+2),u++}function hR(t,e){Sr(4,t,e);const n=Et(null);try{e.call(t)}finally{Et(n),Sr(5,t,e)}}function XW(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Y]>>13<t[la]>>16&&(3&t[Y])===e&&(t[Y]+=8192,hR(a,s)):hR(a,s)}const ga=-1;class Dc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fR(t){return t!==ga}function tf(t){return 32767&t}function nf(t,e){let n=function t3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ca],n--;return r}let Ty=!0;function rf(t){const e=Ty;return Ty=t,e}const pR=255,gR=5;let n3=0;const xr={};function sf(t,e){const n=mR(t,e);if(-1!==n)return n;const r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,Dy(r.data,t),Dy(e,null),Dy(r.blueprint,null));const i=by(t,e),s=t.injectorIndex;if(fR(i)){const o=tf(i),a=nf(i,e),u=a[M].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Dy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function by(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=TR(i),null===r)return ga;if(n++,i=i[ca],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ga}function Sy(t,e,n){!function r3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_c)&&(r=n[_c]),null==r&&(r=n[_c]=n3++);const i=r&pR;e.data[t+(i>>gR)]|=1<<i}(t,e,n)}function _R(t,e,n){if(n&ne.Optional||void 0!==t)return t;J_()}function yR(t,e,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=t[ua],s=mn(void 0);try{return i?i.get(e,r,n&ne.Optional):pN(e,r,n&ne.Optional)}finally{mn(s)}}return _R(r,0,n)}function vR(t,e,n,r=ne.Default,i){if(null!==t){if(2048&e[Y]&&!(r&ne.Self)){const o=function u3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Y]&&!(512&o[Y]);){const a=wR(s,o,n,r|ne.Self,xr);if(a!==xr)return a;let u=s.parent;if(!u){const c=o[RN];if(c){const l=c.get(n,xr,r);if(l!==xr)return l}u=TR(o),o=o[ca]}s=u}return i}(t,e,n,r,xr);if(o!==xr)return o}const s=wR(t,e,n,r,xr);if(s!==xr)return s}return yR(e,n,r,i)}function wR(t,e,n,r,i){const s=function o3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_c)?t[_c]:void 0;return"number"==typeof e?e>=0?e&pR:a3:e}(n);if("function"==typeof s){if(!iR(e,t,r))return r&ne.Host?_R(i,0,r):yR(e,n,r,i);try{const o=s(r);if(null!=o||r&ne.Optional)return o;J_()}finally{uR()}}else if("number"==typeof s){let o=null,a=mR(t,e),u=ga,c=r&ne.Host?e[nt][Gt]:null;for((-1===a||r&ne.SkipSelf)&&(u=-1===a?by(t,e):e[a+8],u!==ga&&ER(r,!1)?(o=e[M],a=tf(u),e=nf(u,e)):a=-1);-1!==a;){const l=e[M];if(IR(s,a,l.data)){const d=s3(a,e,n,o,r,c);if(d!==xr)return d}u=e[a+8],u!==ga&&ER(r,e[M].data[a+8]===c)&&IR(s,a,e)?(o=l,a=tf(u),e=nf(u,e)):a=-1}}return i}function s3(t,e,n,r,i,s){const o=e[M],a=o.data[t+8],l=function af(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&or(f)&&f.type===n)return u}return null}(a,o,n,null==r?Hs(a)&&Ty:r!=o&&0!=(3&a.type),i&ne.Host&&s===a);return null!==l?Ws(e,o,l,a):xr}function Ws(t,e,n,r){let i=t[n];const s=e.data;if(function JW(t){return t instanceof Dc}(i)){const o=i;o.resolving&&function bq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=rf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?mn(o.injectImpl):null;iR(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function YW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=$N(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&mn(u),rf(a),o.resolving=!1,uR()}}return i}function IR(t,e,n){return!!(n[e+(t>>gR)]&1<<t)}function ER(t,e){return!(t&ne.Self||t&ne.Host&&e)}class ma{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vR(this._tNode,this._lView,e,Uh(r),n)}}function a3(){return new ma(Ot(),E())}function Ay(t){return Y_(t)?()=>{const e=Ay(G(t));return e&&e()}:zs(t)}function TR(t){const e=t[M],n=e.type;return 2===n?e.declTNode:1===n?t[Gt]:null}const ya="__parameters__";function wa(t,e,n){return ii(()=>{const r=function xy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ya)?u[ya]:Object.defineProperty(u,ya,{value:[]})[ya];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Sc(t,e){t.forEach(n=>Array.isArray(n)?Sc(n,e):e(n))}function bR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const mt=mc(wa("Optional"),8),df=mc(wa("SkipSelf"),4);function mf(t){return 128==(128&t.flags)}var qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qi||{});const Oy=new Map;let U3=0;const Fy="__ngContext__";function Wt(t,e){Rn(e)?(t[Fy]=e[Ec],function $3(t){Oy.set(t[Ec],t)}(e)):t[Fy]=e}let Vy;function Uy(t,e){return Vy(t,e)}function Rc(t){const e=t[ze];return vn(e)?e[ze]:e}function WR(t){return QR(t[wc])}function KR(t){return QR(t[sr])}function QR(t){for(;null!==t&&!vn(t);)t=t[sr];return t}function Da(t,e,n,r,i){if(null!=r){let s,o=!1;vn(r)?s=r:Rn(r)&&(o=!0,r=r[pt]);const a=Le(r);0===t&&null!==n?null==i?eM(e,n,a):Ks(e,n,a,i||null,!0):1===t&&null!==n?Ks(e,n,a,i||null,!0):2===t?function Ef(t,e,n){const r=wf(t,e);r&&function o6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function c6(t,e,n,r,i){const s=n[Dr];s!==Le(n)&&Da(e,t,r,s,i);for(let a=qt;a<n.length;a++){const u=n[a];kc(u[M],u,t,e,r,s)}}(e,t,s,n,i)}}function vf(t,e,n){return t.createElement(e,n)}function XR(t,e){const n=t[da],r=n.indexOf(e);KN(e),n.splice(r,1)}function $y(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const i=r[Ic];null!==i&&i!==t&&XR(i,r),e>0&&(t[n-1][sr]=r[sr]);const s=cf(t,qt+e);!function J3(t,e){kc(t,e,e[X],2,null,null),e[pt]=null,e[Gt]=null}(r[M],r);const o=s[Tr];null!==o&&o.detachView(s[M]),r[ze]=null,r[sr]=null,r[Y]&=-129}return r}function JR(t,e){if(!(256&e[Y])){const n=e[X];e[Hh]?.destroy(),e[zh]?.destroy(),n.destroyNode&&kc(t,e,n,3,null,null),function t6(t){let e=t[wc];if(!e)return jy(t[M],t);for(;e;){let n=null;if(Rn(e))n=e[wc];else{const r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[sr]&&e!==t;)Rn(e)&&jy(e[M],e),e=e[ze];null===e&&(e=t),Rn(e)&&jy(e[M],e),n=e&&e[sr]}e=n}}(e)}}function jy(t,e){if(!(256&e[Y])){e[Y]&=-129,e[Y]|=256,function s6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Dc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Sr(4,a,u);try{u.call(a)}finally{Sr(5,a,u)}}else{Sr(4,i,s);try{s.call(i)}finally{Sr(5,i,s)}}}}}(t,e),function i6(t,e){const n=t.cleanup,r=e[aa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[aa]=null);const i=e[Hi];if(null!==i){e[Hi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[M].type&&e[X].destroy();const n=e[Ic];if(null!==n&&vn(e[ze])){n!==e[ze]&&XR(n,e);const r=e[Tr];null!==r&&r.detachView(t)}!function j3(t){Oy.delete(t[Ec])}(e)}}function Hy(t,e,n){return function ZR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[pt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===nr.None||s===nr.Emulated)return null}return wn(r,n)}}(t,e.parent,n)}function Ks(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eM(t,e,n){t.appendChild(e,n)}function tM(t,e,n,r,i){null!==r?Ks(t,e,n,r,i):eM(t,e,n)}function wf(t,e){return t.parentNode(e)}let zy,Ky,iM=function rM(t,e,n){return 40&t.type?wn(t,n):null};function If(t,e,n,r){const i=Hy(t,r,e),s=e[X],a=function nM(t,e,n){return iM(t,e,n)}(r.parent||e[Gt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)tM(s,i,n[u],a,!1);else tM(s,i,n,a,!1);void 0!==zy&&zy(s,r,e,n,i)}function Mc(t,e){if(null!==e){const n=e.type;if(3&n)return wn(e,t);if(4&n)return Gy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Mc(t,r);{const i=t[e.index];return vn(i)?Gy(-1,i):Le(i)}}if(32&n)return Uy(e,t)()||Le(t[e.index]);{const r=oM(t,e);return null!==r?Array.isArray(r)?r[0]:Mc(Rc(t[nt]),r):Mc(t,e.next)}}return null}function oM(t,e){return null!==e?t[nt][Gt].projection[e.projection]:null}function Gy(t,e){const n=qt+t+1;if(n<e.length){const r=e[n],i=r[M].firstChild;if(null!==i)return Mc(r,i)}return e[Dr]}function qy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Wt(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)qy(t,e,n.child,r,i,s,!1),Da(e,t,i,a,s);else if(32&u){const c=Uy(n,r);let l;for(;l=c();)Da(e,t,i,l,s);Da(e,t,i,a,s)}else 16&u?uM(t,e,r,n,i,s):Da(e,t,i,a,s);n=o?n.projectionNext:n.next}}function kc(t,e,n,r,i,s){qy(n,r,t.firstChild,e,i,s,!1)}function uM(t,e,n,r,i,s){const o=n[nt],u=o[Gt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Da(e,t,i,u[c],s);else{let c=u;const l=o[ze];mf(r)&&(c.flags|=128),qy(t,e,c,l,i,s,!0)}}function cM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function lM(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&sy(t,e,r),null!==i&&cM(t,e,i),null!==s&&function d6(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vc=new V("ENVIRONMENT_INITIALIZER"),TM=new V("INJECTOR",-1),DM=new V("INJECTOR_DEF_TYPES");class bM{get(e,n=gc){if(n===gc){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function V6(...t){return{\u0275providers:AM(0,t),\u0275fromNgModule:!0}}function AM(t,...e){const n=[],r=new Set;let i;return Sc(e,s=>{const o=s;ev(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&xM(i,n),n}function xM(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];tv(i,s=>{e.push(s)})}}function ev(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=dN(t);const o=!s&&ge(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=dN(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)ev(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Sc(s.imports,l=>{ev(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&xM(c,e)}if(!a){const c=zs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:de},{provide:DM,useValue:i,multi:!0},{provide:Vc,useValue:()=>B(i),multi:!0})}const u=s.providers;null==u||a||tv(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function tv(t,e){for(let n of t)X_(n)&&(n=n.\u0275providers),Array.isArray(n)?tv(n,e):e(n)}const U6=we({provide:String,useValue:we});function nv(t){return null!==t&&"object"==typeof t&&U6 in t}function Qs(t){return"function"==typeof t}const rv=new V("Set Injector scope."),bf={},$6={};let iv;function Sf(){return void 0===iv&&(iv=new bM),iv}class li{}class sv extends li{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(e,o=>this.processProvider(o)),this.records.set(TM,Aa(void 0,this)),i.has("environment")&&this.records.set(li,Aa(void 0,this));const s=this.records.get(rv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(DM.multi,de,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ji(this),r=mn(void 0);try{return e()}finally{ji(n),mn(r)}}get(e,n=gc,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yN))return e[yN](this);r=Uh(r);const i=ji(this),s=mn(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function q6(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Lh(e);a=u&&this.injectableDefInScope(u)?Aa(ov(e),bf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ne.Self?Sf():this.parent).get(e,n=r&ne.Optional&&n===gc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Vh]=o[Vh]||[]).unshift(ft(e)),i)throw o;return function Bq(t,e,n,r){const i=t[Vh];throw e[gN]&&i.unshift(e[gN]),t.message=function $q(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Oq,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Vh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{mn(s),ji(i)}}resolveInjectorInitializers(){const e=ji(this),n=mn(void 0);try{const r=this.get(Vc.multi,de,ne.Self);for(const i of r)i()}finally{ji(e),mn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=Qs(e=G(e))?e:G(e&&e.provide);const r=function H6(t){return nv(t)?Aa(void 0,t.useValue):Aa(function MM(t,e,n){let r;if(Qs(t)){const i=G(t);return zs(i)||ov(i)}if(nv(t))r=()=>G(t.useValue);else if(function RM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ny(t.deps||[]));else if(function NM(t){return!(!t||!t.useExisting)}(t))r=()=>B(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function z6(t){return!!t.deps}(t))return zs(i)||ov(i);r=()=>new i(...ny(t.deps))}return r}(t),bf)}(e);if(Qs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Aa(void 0,bf,!0),i.factory=()=>ny(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===bf&&(n.value=$6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function G6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ov(t){const e=Lh(t),n=null!==e?e.factory:zs(t);if(null!==n)return n;if(t instanceof V)throw new b(204,!1);if(t instanceof Function)return function j6(t){const e=t.length;if(e>0)throw function Ac(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function Mq(t){return t&&(t[Fh]||t[hN])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function Aa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function av(t,e){for(const n of t)Array.isArray(n)?av(n,e):n&&X_(n)?av(n.\u0275providers,e):e(n)}const Af=new V("AppId",{providedIn:"root",factory:()=>W6}),W6="ng",kM=new V("Platform Initializer"),Ki=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PM=new V("CSP nonce",{providedIn:"root",factory:()=>function Pc(){if(void 0!==Ky)return Ky;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let LM=(t,e)=>null;function FM(t,e){return LM(t,e)}class n9{}class BM{}class i9{resolveComponentFactory(e){throw function r9(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let kf=(()=>{class t{}return t.NULL=new i9,t})();function s9(){return Na(Ot(),E())}function Na(t,e){return new Qi(wn(t,e))}let Qi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=s9,t})();class jM{}let u9=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class $c{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const HM=new $c("16.1.8"),yv={};function jc(t){for(;t;){t[Y]|=64;const e=Rc(t);if(cy(t)&&!e)return t;t=e}return null}function vv(t){return t.ngOriginalError}class Ys{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vv(e);for(;n&&vv(n);)n=vv(n);return n||null}}const qM=new V("",{providedIn:"root",factory:()=>!1});function di(t){return t instanceof Function?t():t}class XM extends FN{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){jc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Et(this);this.trackingVersion++;try{e(n,r)}finally{Et(i)}}destroy(){this.trackingVersion++}}let Lf=null;function JM(){return Lf??=new XM,Lf}function ZM(t,e){return t[e]??JM()}function ek(t,e){const n=JM();n.hasReadASignal&&(t[e]=Lf,n.lView=t,Lf=new XM)}const J={};function Ma(t){tk(ue(),E(),an()+t,!1)}function tk(t,e,n,r){if(!r)if(3==(3&e[Y])){const s=t.preOrderCheckHooks;null!==s&&Zh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ef(e,s,0,n)}qs(n)}function sk(t,e=null,n=null,r){const i=ok(t,e,n,r);return i.resolveInjectorInitializers(),i}function ok(t,e=null,n=null,r,i=new Set){const s=[n||de,V6(t)];return r=r||("object"==typeof t?void 0:ft(t)),new sv(s,e||Sf(),r||null,i)}let Pn=(()=>{class t{static create(n,r){if(Array.isArray(n))return sk({name:""},r,n,"");{const i=n.name??"";return sk({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=gc,t.NULL=new bM,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>B(TM)}),t.__NG_ELEMENT_ID__=-1,t})();function j(t,e=ne.Default){const n=E();return null===n?B(t,e):vR(Ot(),n,G(t),e)}function Ff(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[pt]=i,d[Y]=140|r,(null!==c||t&&2048&t[Y])&&(d[Y]|=2048),WN(d),d[ze]=d[ca]=t,d[tt]=n,d[js]=o||t&&t[js],d[X]=a||t&&t[X],d[ua]=u||t&&t[ua]||null,d[Gt]=s,d[Ec]=function B3(){return U3++}(),d[oi]=l,d[RN]=c,d[nt]=2==e.type?t[nt]:d,d}function ka(t,e,n,r,i){let s=t.data[e];if(null===s)s=function wv(t,e,n,r,i){const s=ZN(),o=gy(),u=t.data[e]=function x9(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function fa(){return null!==H.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function BW(){return H.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Tc(){const t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ar(s,!0),s}function Hc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uk(t,e,n,r,i){const s=ZM(e,Hh),o=an(),a=2&r;try{if(qs(-1),a&&e.length>oe&&tk(t,e,oe,!1),Sr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Et(null);try{n(r,i)}finally{Et(c)}}}finally{a&&null===e[Hh]&&ek(e,Hh),qs(o),Sr(a?3:1,i)}}function Iv(t,e,n){if(uy(e)){const r=Et(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Et(r)}}}function ck(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Tv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tv(t,e,n,r,i,s,o,a,u,c,l){const d=oe+r,h=d+i,f=function C9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(d,h),p="function"==typeof c?c():c;return f[M]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let lk=t=>null;function dk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?hk(n,e,i,s):r.hasOwnProperty(i)&&hk(n,e,r[i],s)}return n}function hk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fk(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Sy(sf(n,e),t,r[c].type);!function $9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Hc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=yc(n.mergedAttrs,l.hostAttrs),j9(t,n,e,u,l),B9(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function N9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=dk(d.inputs,l,u,h?h.inputs:null),c=dk(d.outputs,l,c,p);const g=null===u||null===o||TN(e)?null:G9(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function pk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function jW(){return H.lFrame.currentDirectiveIndex}();try{qs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];_y(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&F9(u,c)}}finally{qs(-1),_y(o)}}function F9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function B9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;or(e)&&(n[""]=t)}}function j9(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=zs(i.type)),o=new Dc(s,or(i),j);t.blueprint[r]=o,n[r]=o,function P9(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function O9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Hc(t,n,i.hostVars,J),i)}function z9(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)gk(r,n,o[a++],o[a++],o[a++])}function gk(t,e,n,r,i){const s=Et(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Et(s)}}function G9(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _k(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];vy(n[r]),o.contentQueries(2,e[s],s)}}}function Vf(t,e){return t[wc]?t[NN][sr]=e:t[wc]=e,t[NN]=e,e}function Av(t,e,n){vy(0);const r=Et(null);try{e(t,n)}finally{Et(r)}}function xv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];gk(t.data[o],e[o],r,a,i)}}function hi(t,e,n){const r=function Yh(t,e){return Le(e[t])}(e,t);!function YR(t,e,n){t.setValue(e,n)}(t[X],r,n)}function q9(t,e){const n=Mn(e,t),r=n[M];!function W9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[pt];null!==i&&null===n[oi]&&(n[oi]=FM(i,n[ua])),Nv(r,n,n[tt])}function Nv(t,e,n){wy(e);try{const r=t.viewQuery;null!==r&&Av(1,r,n);const i=t.template;null!==i&&uk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_k(t,e),t.staticViewQueries&&Av(2,t.viewQuery,n);const s=t.components;null!==s&&function K9(t,e){for(let n=0;n<e.length;n++)q9(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Iy()}}let Ek=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new mW(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),t})();function Uf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=K_(i,a):2==s&&(r=K_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function zc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),vn(s)){for(let a=qt;a<s.length;a++){const u=s[a],c=u[M].firstChild;null!==c&&zc(u[M],u,c,r)}s[Dr]!==s[pt]&&r.push(s[Dr])}const o=n.type;if(8&o)zc(t,e,n.child,r);else if(32&o){const a=Uy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=oM(e,n);if(Array.isArray(a))r.push(...a);else{const u=Rc(e[nt]);zc(u[M],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Bf(t,e,n,r=!0){const i=e[js].rendererFactory;i.begin&&i.begin();try{Ck(t,e,t.template,n)}catch(o){throw r&&function Ik(t,e){const n=t[ua],r=n?n.get(Ys,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end(),e[js].effectManager?.flush()}}function Ck(t,e,n,r){const i=e[Y];if(256!=(256&i)){e[js].effectManager?.flush(),wy(e);try{WN(e),function tR(t){return H.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&uk(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Zh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ef(e,c,0,null),Ey(e,0)}if(function Z9(t){for(let e=WR(t);null!==e;e=KR(e)){if(!e[MN])continue;const n=e[da];for(let r=0;r<n.length;r++){SW(n[r])}}}(e),Tk(e,2),null!==t.contentQueries&&_k(t,e),o){const c=t.contentCheckHooks;null!==c&&Zh(e,c)}else{const c=t.contentHooks;null!==c&&ef(e,c,1),Ey(e,1)}!function E9(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=ZM(e,zh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)qs(~s);else{const o=s,a=n[++i],u=n[++i];$W(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[zh]&&ek(e,zh),qs(-1)}}(t,e);const a=t.components;null!==a&&bk(e,a,0);const u=t.viewQuery;if(null!==u&&Av(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Zh(e,c)}else{const c=t.viewHooks;null!==c&&ef(e,c,2),Ey(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Y]&=-73,KN(e)}finally{Iy()}}}function Tk(t,e){for(let n=WR(t);null!==n;n=KR(n))for(let r=qt;r<n.length;r++)Dk(n[r],e)}function e5(t,e,n){Dk(Mn(e,t),n)}function Dk(t,e){if(!function DW(t){return 128==(128&t[Y])}(t))return;const n=t[M];if(80&t[Y]&&0===e||1024&t[Y]||2===e)Ck(n,t,n.template,t[tt]);else if(t[vc]>0){Tk(t,1);const i=t[M].components;null!==i&&bk(t,i,1)}}function bk(t,e,n){for(let r=0;r<e.length;r++)e5(t,e[r],n)}class Gc{get rootNodes(){const e=this._lView,n=e[M];return zc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ze];if(vn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&($y(e,r),cf(n,r))}this._attachedToViewContainer=!1}JR(this._lView[M],this._lView)}onDestroy(e){!function YN(t,e){if(256==(256&t[Y]))throw new b(911,!1);null===t[Hi]&&(t[Hi]=[]),t[Hi].push(e)}(this._lView,e)}markForCheck(){jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){Bf(this._lView[M],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function e6(t,e){kc(t,e,e[X],2,null,null)}(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class t5 extends Gc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Bf(e[M],e,e[tt],!1)}checkNoChanges(){}get context(){return null}}class Sk extends kf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new qc(n,this.ngModule)}}function Ak(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class r5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Uh(r);const i=this.injector.get(e,yv,r);return i!==yv||n===yv?i:this.parentInjector.get(e,n,r)}}class qc extends BM{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Ak(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ak(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Xq(t){return t.map(Yq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof li?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new r5(e,s):e,a=o.get(jM,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(u9,null),effectManager:o.get(Ek,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function T9(t,e,n,r){const s=r.get(qM,!1)||n===nr.ShadowDom,o=t.selectRootElement(e,s);return function D9(t){lk(t)}(o),o}(d,r,this.componentDef.encapsulation,o):vf(d,h,function n5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=Tv(0,null,null,1,0,null,null,null,null,null,null),y=Ff(null,w,null,m,null,null,l,d,o,null,null);let T,k;wy(y);try{const O=this.componentDef;let W,Ze=null;O.findHostDirectiveDefs?(W=[],Ze=new Map,O.findHostDirectiveDefs(O,W,Ze),W.push(O)):W=[O];const wr=function s5(t,e){const n=t[M],r=oe;return t[r]=e,ka(n,r,2,"#host",null)}(y,f),Vs=function o5(t,e,n,r,i,s,o){const a=i[M];!function a5(t,e,n,r){for(const i of t)e.mergedAttrs=yc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Uf(e,e.mergedAttrs,!0),null!==n&&lM(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=FM(e,i[ua]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ff(i,ck(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&bv(a,t,r.length-1),Vf(i,d),i[t.index]=d}(wr,f,O,W,y,l,d);k=function qN(t,e){return t.data[e]}(w,oe),f&&function c5(t,e,n,r){if(r)sy(t,n,["ng-version",HM.full]);else{const{attrs:i,classes:s}=function Jq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!rr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&sy(t,n,i),s&&s.length>0&&cM(t,n,s.join(" "))}}(d,O,f,r),void 0!==n&&function l5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,n),T=function u5(t,e,n,r,i,s){const o=Ot(),a=i[M],u=wn(o,i);fk(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Wt(Ws(i,a,o.directiveStart+l,o),i);pk(a,i,o),u&&Wt(u,i);const c=Ws(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=c,null!==s)for(const l of s)l(c,e);return Iv(a,o,t),c}(Vs,O,W,Ze,y,[d5]),Nv(w,y,null)}finally{Iy()}return new i5(this.componentType,T,Na(k,y),y,k)}}class i5 extends n9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new t5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;xv(s[M],s,i,e,n),this.previousInputValues.set(e,n),jc(Mn(this._tNode.index,s))}}get injector(){return new ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function d5(){const t=Ot();Jh(E()[M],t)}function Oa(t,e,n,r){return function Kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(t,function pa(){return H.lFrame.bindingIndex++}(),n)?e+K(n)+r:J}function Vv(t,e,n,r,i){const o=i?"class":"style";xv(t,n,e.inputs[o],o,r)}function Yi(t,e,n,r){const i=E(),s=ue(),o=oe+t,a=i[X],u=s.firstCreatePass?function q5(t,e,n,r,i,s){const o=e.consts,u=ka(e,t,2,r,zi(o,i));return function Dv(t,e,n,r){if(JN()){const i=null===r?null:{"":-1},s=function V9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(DN(e,o.selectors,!1))if(r||(r=[]),or(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),bv(t,e,a.length)}else r.unshift(o),bv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&fk(t,e,n,o,i,a),i&&function U9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=yc(n.mergedAttrs,n.attrs)}(e,n,u,zi(o,s)),null!==u.attrs&&Uf(u,u.attrs,!1),null!==u.mergedAttrs&&Uf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=Yk(s,i,u,a,e,t);i[o]=c;const l=function qh(t){return 1==(1&t.flags)}(u);return Ar(u,!0),lM(a,c,u),32!=(32&u.flags)&&Xh()&&If(s,i,c,u),0===function xW(){return H.lFrame.elementDepthCount}()&&Wt(c,i),function NW(){H.lFrame.elementDepthCount++}(),l&&(function Ev(t,e,n){JN()&&(function L9(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Hs(n)&&function H9(t,e,n){const r=wn(e,t),i=ck(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Vf(t,Ff(t,i,null,o,r,e,null,t[js].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sf(n,e),Wt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ws(e,t,a,n);Wt(c,e),null!==o&&z9(0,a-i,c,u,0,o),or(u)&&(Mn(n.index,e)[tt]=Ws(e,t,a,n))}}(t,e,n,wn(n,e)),64==(64&n.flags)&&pk(t,e,n))}(s,i,u),Iv(s,u,i)),null!==r&&function Cv(t,e,n=wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,u),Yi}function Xi(){let t=Ot();gy()?function my(){H.lFrame.isParent=!1}():(t=t.parent,Ar(t,!1));const e=t;(function MW(t){return H.skipHydrationRootTNode===t})(e)&&function LW(){H.skipHydrationRootTNode=null}(),function RW(){H.lFrame.elementDepthCount--}();const n=ue();return n.firstCreatePass&&(Jh(n,t),uy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function ZW(t){return 0!=(8&t.flags)}(e)&&Vv(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function e3(t){return 0!=(16&t.flags)}(e)&&Vv(n,e,E(),e.stylesWithoutHost,!1),Xi}function Uv(t,e,n,r){return Yi(t,e,n,r),Xi(),Uv}let Yk=(t,e,n,r,i,s)=>(Gi(!0),vf(r,i,function cR(){return H.lFrame.currentNamespace}()));function Wf(t){return!!t&&"function"==typeof t.then}function Zk(t){return!!t&&"function"==typeof t.subscribe}function za(t,e=""){const n=E(),r=ue(),i=t+oe,s=r.firstCreatePass?ka(r,i,1,e,null):r.data[i],o=AP(r,n,s,e,t);n[i]=o,Xh()&&If(r,n,o,s),Ar(s,!1)}let AP=(t,e,n,r,i)=>(Gi(!0),function yf(t,e){return t.createText(e)}(e[X],r));function Zs(t){return Kv("",t,""),Zs}function Kv(t,e,n){const r=E(),i=Oa(r,t,e,n);return i!==J&&hi(r,an(),i),Kv}const qa="en-US";let YP=qa;class Wa{}class E1{}class tw extends Wa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sk(this);const i=Nn(e);this._bootstrapComponents=di(i.bootstrap),this._r3Injector=ok(e,n,[{provide:Wa,useValue:this},{provide:kf,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nw extends E1{constructor(e){super(),this.moduleType=e}create(e){return new tw(this.moduleType,e,[])}}class C1 extends Wa{constructor(e){super(),this.componentFactoryResolver=new Sk(this),this.instance=null;const n=new sv([...e.providers,{provide:Wa,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],e.parent||Sf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function rw(t,e,n=null){return new C1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Q8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=AM(0,n.type),i=r.length>0?rw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(B(li))}),t})();function T1(t){t.getStandaloneInjector=e=>e.get(Q8).getOrCreateStandaloneInjector(t)}function sw(t){return e=>{setTimeout(t,void 0,e)}}const cn=class IK extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=sw(s),i&&(i=sw(i)),o&&(o=sw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof An&&e.add(a),a}};let cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=MK,t})();function MK(){return function $1(t,e){let n;const r=e[t.index];return vn(r)?n=r:(n=function mk(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,Vf(e,n)),j1(n,e,t,r),new U1(n,t,e)}(Ot(),E())}const kK=cr,U1=class extends kK{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new ma(this._hostTNode,this._hostLView)}get parentInjector(){const e=by(this._hostTNode,this._hostLView);if(fR(e)){const n=nf(e,this._hostLView),r=tf(e);return new ma(n[M].data[r+8],n)}return new ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=B1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function bc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new qc(ge(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(li,null);m&&(s=m)}ge(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[M];if(function bW(t){return vn(t[ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ze],l=new U1(c,c[Gt],c[ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function n6(t,e,n,r){const i=qt+r,s=n.length;r>0&&(n[i-1][sr]=e),r<s-qt?(e[sr]=n[i],bR(n,qt+r,e)):(n.push(e),e[sr]=null),e[ze]=n;const o=e[Ic];null!==o&&n!==o&&function r6(t,e){const n=t[da];e[nt]!==e[ze][ze][nt]&&(t[MN]=!0),null===n?t[da]=[e]:n.push(e)}(o,e);const a=e[Tr];null!==a&&a.insertView(t),e[Y]|=128}(s,i,a,o),!r){const u=Gy(o,a),c=i[X],l=wf(c,a[Dr]);null!==l&&function Z3(t,e,n,r,i,s){r[pt]=i,r[Gt]=e,kc(t,r,n,1,i,s)}(s,a[Gt],c,i,l,u)}return e.attachToViewContainerRef(),bR(uw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=B1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=$y(this._lContainer,n);r&&(cf(uw(this._lContainer),n),JR(r[M],r))}detach(e){const n=this._adjustIndex(e,-1),r=$y(this._lContainer,n);return r&&null!=cf(uw(this._lContainer),n)?new Gc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function B1(t){return t[8]}function uw(t){return t[8]||(t[8]=[])}let j1=function H1(t,e,n,r){if(t[Dr])return;let i;i=8&n.type?Le(r):function PK(t,e){const n=t[X],r=n.createComment(""),i=wn(e,t);return Ks(n,wf(n,i),r,function a6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Dr]=i};const vw=new V("Application Initializer");let ww=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(vw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Wf(s))n.push(s);else if(Zk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const pi=new V("LocaleId",{providedIn:"root",factory:()=>L(pi,ne.Optional|ne.SkipSelf)||function dQ(){return typeof $localize<"u"&&$localize.locale||qa}()});let gO=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class pQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let mO=(()=>{class t{compileModuleSync(n){return new nw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=di(Nn(n).declarations).reduce((o,a)=>{const u=ge(a);return u&&o.push(new qc(u)),o},[]);return new pQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vO(...t){}class be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cn(!1),this.onMicrotaskEmpty=new cn(!1),this.onStable=new cn(!1),this.onError=new cn(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _Q(){const t="function"==typeof Se.requestAnimationFrame;let e=Se[t?"requestAnimationFrame":"setTimeout"],n=Se[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function wQ(t){const e=()=>{!function vQ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Se,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ew(t),t.isCheckStableRunning=!0,Iw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ew(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return wO(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),IO(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return wO(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),IO(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ew(t),Iw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,yQ,vO,vO);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const yQ={};function Iw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ew(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function IO(t){t._nesting--,Iw(t)}class IQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cn,this.onMicrotaskEmpty=new cn,this.onStable=new cn,this.onError=new cn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const EO=new V("",{providedIn:"root",factory:CO});function CO(){const t=L(be);let e=!0;return function Eq(...t){const e=pc(t),n=function gq(t,e){return"number"==typeof q_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?tr(r[0]):ia(n)(Pt(r,e)):Ir}(new et(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new et(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{be.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(uN()))}const TO=new V(""),np=new V("");let Dw,Cw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dw||(function EQ(t){Dw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(B(be),B(Tw),B(np))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Tw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Dw?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Zi=null;const DO=new V("AllowMultipleToken"),bw=new V("PlatformDestroyListeners"),Sw=new V("appBootstrapListener");class SO{constructor(e,n){this.name=e,this.token=n}}function xO(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Aw();if(!o||o.injector.get(DO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function DQ(t){if(Zi&&!Zi.get(DO,!1))throw new b(400,!1);(function bO(){!function pW(t){VN=t}(()=>{throw new b(600,!1)})})(),Zi=t;const e=t.get(RO);(function AO(t){t.get(kM,null)?.forEach(n=>n())})(t)}(function NO(t=[],e){return Pn.create({name:e,providers:[{provide:rv,useValue:"platform"},{provide:bw,useValue:new Set([()=>Zi=null])},...t]})}(a,r))}return function SQ(t){const e=Aw();if(!e)throw new b(401,!1);return e}()}}function Aw(){return Zi?.get(RO)??null}let RO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function AQ(t="zone.js",e){return"noop"===t?new IQ:"zone.js"===t?new be(e):t}(r?.ngZone,function MO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function K8(t,e,n){return new tw(t,e,n)}(n.moduleType,this.injector,function FO(t){return[{provide:be,useFactory:t},{provide:Vc,multi:!0,useFactory:()=>{const e=L(NQ,{optional:!0});return()=>e.initialize()}},{provide:LO,useFactory:xQ},{provide:EO,useFactory:CO}]}(()=>i)),o=s.injector.get(Ys,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{rp(this._modules,s),a.unsubscribe()})}),function kO(t,e,n){try{const r=n();return Wf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(ww);return a.runInitializers(),a.donePromise.then(()=>(function XP(t){Hn(t,"Expected localeId to be defined"),"string"==typeof t&&(YP=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(pi,qa)||qa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=PO({},r);return function CQ(t,e,n){const r=new nw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ya);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(bw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(B(Pn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function PO(t,e){return Array.isArray(e)?e.reduce(PO,t):{...t,...e}}let Ya=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(LO),this.zoneIsStable=L(EO),this.componentTypes=[],this.components=[],this.isStable=L(gO).hasPendingTasks.pipe(Er(n=>n?z(!1):this.zoneIsStable),function Cq(t,e=Bi){return t=t??Tq,wt((n,r)=>{let i,s=!0;n.subscribe(It(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),uN()),this._injector=L(li)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof BM;if(!this._injector.get(ww).done)throw!i&&function oa(t){const e=ge(t)||zt(t)||yn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(kf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function TQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Wa),c=o.create(Pn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(TO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),rp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;rp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Sw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const LO=new V("",{providedIn:"root",factory:()=>L(Ys).handleError.bind(void 0)});function xQ(){const t=L(be),e=L(Ys);return n=>t.runOutsideAngular(()=>e.handleError(n))}let NQ=(()=>{class t{constructor(){this.zone=L(be),this.applicationRef=L(Ya)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let xw=(()=>{class t{}return t.__NG_ELEMENT_ID__=MQ,t})();function MQ(t){return function kQ(t,e,n){if(Hs(t)&&!n){const r=Mn(t.index,e);return new Gc(r,r)}return 47&t.type?new Gc(e[nt],e):null}(Ot(),E(),16==(16&t))}const qQ=xO(null,"core",[]);let WQ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(B(Ya))},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({}),t})(),Fw=null;function Xa(){return Fw}class sY{}const Wn=new V("DocumentToken");let Vw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return L(aY)},providedIn:"platform"}),t})();const oY=new V("Location Initialized");let aY=(()=>{class t extends Vw{constructor(){super(),this._doc=L(Wn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(n){const r=Xa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Xa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Uw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ZO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gi(t){return t&&"?"!==t[0]?"?"+t:t}let no=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return L(tL)},providedIn:"root"}),t})();const eL=new V("appBaseHref");let tL=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Vw),B(eL,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uY=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Vw),B(eL,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Bw=(()=>{class t{constructor(n){this._subject=new cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function dY(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(ZO(nL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(function lY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,nL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=gi,t.joinWithSlash=Uw,t.stripTrailingSlash=ZO,t.\u0275fac=function(n){return new(n||t)(B(no))},t.\u0275prov=$({token:t,factory:function(){return function cY(){return new Bw(B(no))}()},providedIn:"root"}),t})();function nL(t){return t.replace(/\/index.html$/,"")}let bX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({}),t})();function yL(t){return"server"===t}let NX=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new RX(B(Wn),window)}),t})();class RX{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function MX(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vL(this.window.history)||vL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vL(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class nJ extends sY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rI extends nJ{static makeCurrent(){!function iY(t){Fw||(Fw=t)}(new rI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function rJ(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}();return null==n?null:function iJ(t){wp=wp||document.createElement("a"),wp.setAttribute("href",t);const e=wp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function QY(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let wp,ll=null,oJ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const iI=new V("EventManagerPlugins");let TL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(B(iI),B(be))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class DL{constructor(e){this._doc=e}}const sI="ng-app-id";let bL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${sI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(sI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(sI,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(B(Wn),B(Af),B(PM,8),B(Ki))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const oI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aI=/%COMP%/g,lJ=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function AL(t,e){return e.map(n=>n.replace(aI,t))}let xL=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=yL(a),this.defaultRenderer=new uI(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nr.ShadowDom&&(r={...r,encapsulation:nr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof RL?i.applyToHost(n):i instanceof cI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case nr.Emulated:s=new RL(u,c,r,this.appId,l,o,a,d);break;case nr.ShadowDom:return new pJ(u,c,n,r,o,a,this.nonce,d);default:s=new cI(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(B(TL),B(bL),B(Af),B(lJ),B(Wn),B(Ki),B(be),B(PM))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class uI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(oI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=oI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=oI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qi.DashCase|qi.Important)?e.style.setProperty(n,r,i&qi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Xa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function NL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pJ extends uI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AL(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cI extends uI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?AL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RL extends cI{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function dJ(t){return"_ngcontent-%COMP%".replace(aI,t)}(c),this.hostAttr=function hJ(t){return"_nghost-%COMP%".replace(aI,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let gJ=(()=>{class t extends DL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(B(Wn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const ML=["alt","control","meta","shift"],mJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_J={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yJ=(()=>{class t extends DL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ML.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=mJ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ML.forEach(o=>{o!==i&&(0,_J[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(B(Wn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const PL=[{provide:Ki,useValue:"browser"},{provide:kM,useValue:function vJ(){rI.makeCurrent()},multi:!0},{provide:Wn,useFactory:function IJ(){return function g6(t){Ky=t}(document),document},deps:[]}],EJ=xO(qQ,"browser",PL),CJ=new V(""),OL=[{provide:np,useClass:class sJ{addToWindow(e){Se.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(r=>{const i=Se.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Xa().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:TO,useClass:Cw,deps:[be,Tw,np]},{provide:Cw,useClass:Cw,deps:[be,Tw,np]}],LL=[{provide:rv,useValue:"root"},{provide:Ys,useFactory:function wJ(){return new Ys},deps:[]},{provide:iI,useClass:gJ,multi:!0,deps:[Wn,be,Ki]},{provide:iI,useClass:yJ,multi:!0,deps:[Wn]},xL,bL,TL,{provide:jM,useExisting:xL},{provide:class kX{},useClass:oJ,deps:[]},[]];let TJ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Af,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(B(CJ,12))},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({providers:[...LL,...OL],imports:[bX,WQ]}),t})(),FL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(B(Wn))},t.\u0275prov=$({token:t,factory:function(n){let r=null;return r=n?new n:function bJ(){return new FL(B(Wn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:MJ}=Array,{getPrototypeOf:kJ,prototype:PJ,keys:OJ}=Object;const{isArray:VJ}=Array;function dI(...t){const e=pc(t),n=function pq(t){return De(q_(t))?t.pop():void 0}(t),{args:r,keys:i}=function LJ(t){if(1===t.length){const e=t[0];if(MJ(e))return{args:e,keys:null};if(function FJ(t){return t&&"object"==typeof t&&kJ(t)===PJ}(e)){const n=OJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Pt([],e);const s=new et(function jJ(t,e,n=Bi){return r=>{$L(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)$L(e,()=>{const c=Pt(t[u],e);let l=!1;c.subscribe(It(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function $J(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Bi));return n?s.pipe(function BJ(t){return Ne(e=>function UJ(t,e){return VJ(e)?t(...e):t(e)}(t,e))}(n)):s}function $L(t,e,n){t?ri(n,t,e):e()}const Ip=hc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hI(...t){return function HJ(){return ia(1)}()(Pt(t,pc(t)))}function jL(t){return new et(e=>{tr(t()).subscribe(e)})}function dl(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new et(e?i=>e.schedule(r,0,i):r)}function fI(){return wt((t,e)=>{let n=null;t._refCount++;const r=It(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class HL extends et{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new An;const n=this.getSubject();e.add(this.source.subscribe(It(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=An.EMPTY)}return e}refCount(){return fI()(this)}}function Za(t){return t<=0?()=>Ir:wt((e,n)=>{let r=0;e.subscribe(It(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ts(t,e){return wt((n,r)=>{let i=0;n.subscribe(It(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ep(t){return wt((e,n)=>{let r=!1;e.subscribe(It(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function zL(t=GJ){return wt((e,n)=>{let r=!1;e.subscribe(It(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function GJ(){return new Ip}function ro(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ts((i,s)=>t(i,s,r)):Bi,Za(1),n?Ep(e):zL(()=>new Ip))}function hl(t,e){return De(e)?kt(t,e,1):kt(t,1)}function Qt(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(It(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Bi}function io(t){return wt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(It(n,void 0,void 0,o=>{s=tr(t(o,io(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pI(t){return t<=0?()=>Ir:wt((e,n)=>{let r=[];e.subscribe(It(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gI(t){return wt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ee="primary",fl=Symbol("RouteTitle");class YJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function eu(t){return new YJ(t)}function XJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!GL(t[i],e[i]))return!1;return!0}function GL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function qL(t){return t.length>0?t[t.length-1]:null}function ns(t){return function RJ(t){return!!t&&(t instanceof et||De(t.lift)&&De(t.subscribe))}(t)?t:Wf(t)?Pt(Promise.resolve(t)):z(t)}const ZJ={exact:function QL(t,e,n){if(!so(t.segments,e.segments)||!Cp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!QL(t.children[r],e.children[r],n))return!1;return!0},subset:YL},WL={exact:function eZ(t,e){return Pr(t,e)},subset:function tZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GL(t[n],e[n]))},ignored:()=>!0};function KL(t,e,n){return ZJ[n.paths](t.root,e.root,n.matrixParams)&&WL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function YL(t,e,n){return XL(t,e,e.segments,n)}function XL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!Cp(i,n,r))}if(t.segments.length===n.length){if(!so(t.segments,n)||!Cp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!YL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(so(t.segments,i)&&Cp(t.segments,i,r)&&t.children[ee])&&XL(t.children[ee],e,s,r)}}function Cp(t,e,n){return e.every((r,i)=>WL[n](t[i].parameters,r.parameters))}class tu{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return iZ.serialize(this)}}class Ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tp(this)}}class pl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return eF(this)}}function so(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let gl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new mI},providedIn:"root"}),t})();class mI{parse(e){const n=new gZ(e);return new tu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ml(e.root,!0)}`,r=function aZ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Dp(n)}=${Dp(i)}`).join("&"):`${Dp(n)}=${Dp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function sZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const iZ=new mI;function Tp(t){return t.segments.map(e=>eF(e)).join("/")}function ml(t,e){if(!t.hasChildren())return Tp(t);if(e){const n=t.children[ee]?ml(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ml(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function rZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ee?[ml(t.children[ee],!1)]:[`${i}:${ml(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ee]?`${Tp(t)}/${n[0]}`:`${Tp(t)}/(${n.join("//")})`}}function JL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dp(t){return JL(t).replace(/%3B/gi,";")}function _I(t){return JL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(t){return decodeURIComponent(t)}function ZL(t){return bp(t.replace(/\+/g,"%20"))}function eF(t){return`${_I(t.path)}${function oZ(t){return Object.keys(t).map(e=>`;${_I(e)}=${_I(t[e])}`).join("")}(t.parameters)}`}const uZ=/^[^\/()?;#]+/;function yI(t){const e=t.match(uZ);return e?e[0]:""}const cZ=/^[^\/()?;=#]+/,dZ=/^[^=?&#]+/,fZ=/^[^&#]+/;class gZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new Ie(e,n)),r}parseSegment(){const e=yI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new pl(bp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lZ(t){const e=t.match(cZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yI(this.remaining);i&&(r=i,this.capture(r))}e[bp(n)]=bp(r)}parseQueryParam(e){const n=function hZ(t){const e=t.match(dZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function pZ(t){const e=t.match(fZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=ZL(n),s=ZL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ee]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function tF(t){return t.segments.length>0?new Ie([],{[ee]:t}):t}function nF(t){const e={};for(const r of Object.keys(t.children)){const s=nF(t.children[r]);if(r===ee&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function mZ(t){if(1===t.numberOfChildren&&t.children[ee]){const e=t.children[ee];return new Ie(t.segments.concat(e.segments),e.children)}return t}(new Ie(t.segments,e))}function oo(t){return t instanceof tu}function rF(t){let e;const i=tF(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ie(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function iF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return vI(i,i,i,n,r);const s=function yZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new oF(n,e,r)}(e);if(s.toRoot())return vI(i,i,new Ie([],{}),n,r);const o=function vZ(t,e,n){if(t.isAbsolute)return new Ap(e,!0,0);if(!n)return new Ap(e,!1,NaN);if(null===n.parent)return new Ap(n,!0,0);const r=Sp(t.commands[0])?0:1;return function wZ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Ap(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?yl(o.segmentGroup,o.index,s.commands):aF(o.segmentGroup,o.index,s.commands);return vI(i,o.segmentGroup,a,n,r)}function Sp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _l(t){return"object"==typeof t&&null!=t&&t.outlets}function vI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:sF(t,e,n);const a=tF(nF(o));return new tu(a,s,i)}function sF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:sF(s,e,n)}),new Ie(t.segments,r)}class oF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Sp(r[0]))throw new b(4003,!1);const i=r.find(_l);if(i&&i!==qL(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ap{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function aF(t,e,n){if(t||(t=new Ie([],{})),0===t.segments.length&&t.hasChildren())return yl(t,e,n);const r=function EZ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(_l(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cF(u,c,o))return s;r+=2}else{if(!cF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new Ie(t.segments.slice(r.pathIndex),t.children),yl(s,0,i)}return r.match&&0===i.length?new Ie(t.segments,{}):r.match&&!t.hasChildren()?wI(t,e,n):r.match?yl(t,0,i):wI(t,e,n)}function yl(t,e,n){if(0===n.length)return new Ie(t.segments,{});{const r=function IZ(t){return _l(t[0])?t[0].outlets:{[ee]:t}}(n),i={};if(!r[ee]&&t.children[ee]&&1===t.numberOfChildren&&0===t.children[ee].segments.length){const s=yl(t.children[ee],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=aF(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ie(t.segments,i)}}function wI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(_l(s)){const u=CZ(s.outlets);return new Ie(r,u)}if(0===i&&Sp(n[0])){r.push(new pl(t.segments[e].path,uF(n[0]))),i++;continue}const o=_l(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Sp(a)?(r.push(new pl(o,uF(a))),i+=2):(r.push(new pl(o,{})),i++)}return new Ie(r,{})}function CZ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=wI(new Ie([],{}),0,r))}),e}function uF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cF(t,e,n){return t==n.path&&Pr(e,n.parameters)}const vl="imperative";class Or{constructor(e,n){this.id=e,this.url=n}}class II extends Or{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends Or{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xp extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wl extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class EI extends Or{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TZ extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DZ extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bZ extends Or{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SZ extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AZ extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Il,this.attachRef=null}}let Il=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new OZ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class dF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=CI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=CI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=TI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return TI(e,this._root).map(n=>n.value)}}function CI(t,e){if(t===e.value)return e;for(const n of e.children){const r=CI(t,n);if(r)return r}return null}function TI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=TI(t,n);if(r.length)return r.unshift(e),r}return[]}class yi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class hF extends dF{constructor(e,n){super(e),this.snapshot=n,DI(this,e)}toString(){return this.snapshot.toString()}}function fF(t,e){const n=function LZ(t,e){const o=new Np([],{},{},"",{},ee,e,null,{});return new gF("",new yi(o,[]))}(0,e),r=new jn([new pl("",{})]),i=new jn({}),s=new jn({}),o=new jn({}),a=new jn(""),u=new ru(r,i,o,a,s,ee,e,n.root);return u.snapshot=n.root,new hF(new yi(u,[]),n)}class ru{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(c=>c[fl]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function FZ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Np{get title(){return this.data?.[fl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gF extends dF{constructor(e,n){super(n),this.url=e,DI(this,n)}toString(){return mF(this._root)}}function DI(t,e){e.value._routerState=t,e.children.forEach(n=>DI(t,n))}function mF(t){const e=t.children.length>0?` { ${t.children.map(mF).join(", ")} } `:"";return`${t.value}${e}`}function bI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pr(e.params,n.params)||t.paramsSubject.next(n.params),function JJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Pr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SI(t,e){const n=Pr(t.params,e.params)&&function nZ(t,e){return so(t,e)&&t.every((n,r)=>Pr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||SI(t.parent,e.parent))}let _F=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new cn,this.deactivateEvents=new cn,this.attachEvents=new cn,this.detachEvents=new cn,this.parentContexts=L(Il),this.location=L(cr),this.changeDetector=L(xw),this.environmentInjector=L(li),this.inputBinder=L(Rp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new VZ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=sn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gs]}),t})();class VZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ru?this.route:e===Il?this.childContexts:this.parent.get(e,n)}}const Rp=new V("");let yF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=dI([r.queryParams,r.params,r.data]).pipe(Er(([s,o,a],u)=>(a={...s,...o,...a},0===u?z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function rY(t){const e=ge(t);if(!e)return null;const n=new qc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function El(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function BZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return El(t,r,i);return El(t,r)})}(t,e,n);return new yi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>El(t,a)),o}}const r=function $Z(t){return new ru(new jn(t.url),new jn(t.params),new jn(t.queryParams),new jn(t.fragment),new jn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>El(t,s));return new yi(r,i)}}const AI="ngNavigationCancelingError";function vF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function wF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[AI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function IF(t){return EF(t)&&oo(t.url)}function EF(t){return t&&t[AI]}let CF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oy({type:t,selectors:[["ng-component"]],standalone:!0,features:[T1],decls:1,vars:0,template:function(n,r){1&n&&Uv(0,"router-outlet")},dependencies:[_F],encapsulation:2}),t})();function xI(t){const e=t.children&&t.children.map(xI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=CF),n}function fr(t){return t.outlet||ee}function Cl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class KZ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=nu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=nu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new PZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new MZ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(bI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Cl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mp{constructor(e,n){this.component=e,this.route=n}}function QZ(t,e,n){const r=t._root;return Tl(r,e?e._root:null,n,[r.value])}function iu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Rq(t){return null!==Lh(t)}(t)?e.get(t):t:r}function Tl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nu(e);return t.children.forEach(o=>{(function XZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function JZ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SI(t,e)||!Pr(t.queryParams,e.queryParams);default:return!SI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Tl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mp(a.outlet.component,o))}else o&&Dl(e,a,i),i.canActivateChecks.push(new TF(r)),Tl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Dl(a,n.getContext(o),i)),i}function Dl(t,e,n){const r=nu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Dl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Mp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bl(t){return"function"==typeof t}function DF(t){return t instanceof Ip||"EmptyError"===t?.name}const kp=Symbol("INITIAL_VALUE");function su(){return Er(t=>dI(t.map(e=>e.pipe(Za(1),function zJ(...t){const e=pc(t);return wt((n,r)=>{(e?hI(t,n,e):hI(t,n)).subscribe(r)})}(kp)))).pipe(Ne(e=>{for(const n of e)if(!0!==n){if(n===kp)return kp;if(!1===n||n instanceof tu)return n}return!0}),ts(e=>e!==kp),Za(1)))}function bF(t){return function k4(...t){return Hx(t)}(Qt(e=>{if(oo(e))throw vF(0,e)}),Ne(e=>!0===e))}class Pp{constructor(e){this.segmentGroup=e||null}}class SF{constructor(e){this.urlTree=e}}function ou(t){return dl(new Pp(t))}function AF(t){return dl(new SF(t))}class yee{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[ee])return dl(new b(4e3,!1));i=i.children[ee]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new tu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const NI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vee(t,e,n,r,i){const s=RI(t,e,n);return s.matched?(r=function jZ(t,e){return t.providers&&!t._injector&&(t._injector=rw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function gee(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=iu(o,t);return ns(function iee(t){return t&&bl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),bF()):z(!0)}(r,e,n).pipe(Ne(o=>!0===o?s:{...NI}))):z(s)}function RI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...NI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||XJ)(n,t,e);if(!i)return{...NI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xF(t,e,n,r){return n.length>0&&function Eee(t,e,n){return n.some(r=>Op(t,e,r)&&fr(r)!==ee)}(t,n,r)?{segmentGroup:new Ie(e,Iee(r,new Ie(n,t.children))),slicedSegments:[]}:0===n.length&&function Cee(t,e,n){return n.some(r=>Op(t,e,r))}(t,n,r)?{segmentGroup:new Ie(t.segments,wee(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function wee(t,e,n,r,i){const s={};for(const o of r)if(Op(t,n,o)&&!i[fr(o)]){const a=new Ie([],{});s[fr(o)]=a}return{...i,...s}}function Iee(t,e){const n={};n[ee]=e;for(const r of t)if(""===r.path&&fr(r)!==ee){const i=new Ie([],{});n[fr(r)]=i}return n}function Op(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class See{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yee(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=xF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(io(n=>{if(n instanceof SF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Pp?this.noMatchError(n):n}),Ne(n=>{const r=new Np([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new yi(r,n),s=new gF("",i),o=function _Z(t,e,n=null,r=null){return iF(rF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ee).pipe(io(r=>{throw r instanceof Pp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=pF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Pt(i).pipe(hl(s=>{const o=r.children[s],a=function qZ(t,e){const n=t.filter(r=>fr(r)===e);return n.push(...t.filter(r=>fr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function WJ(t,e){return wt(function qJ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(It(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ep(null),function KJ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ts((i,s)=>t(i,s,r)):Bi,pI(1),n?Ep(e):zL(()=>new Ip))}(),kt(s=>{if(null===s)return ou(r);const o=NF(s);return function Aee(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}(o),z(o)}))}processSegment(e,n,r,i,s,o){return Pt(n).pipe(hl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(io(u=>{if(u instanceof Pp)return z(null);throw u}))),ro(a=>!!a),io(a=>{if(DF(a))return function Dee(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?z([]):ou(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Tee(t,e,n,r){return!!(fr(t)===r||r!==ee&&Op(e,n,t))&&("**"===t.path||RI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ou(i):ou(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?AF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(kt(o=>{const a=new Ie(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=RI(n,i,s);if(!a)return ou(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?AF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(kt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?qL(i).parameters:{};a=z({snapshot:new Np(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RF(r),fr(r),r.component??r._loadedComponent??null,r,MF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=vee(n,r,i,e).pipe(Ne(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Np(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RF(r),fr(r),r.component??r._loadedComponent??null,r,MF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Er(u=>null===u?ou(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Er(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=xF(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ne(w=>null===w?null:[new yi(d,w)]));if(0===c.length&&0===g.length)return z([new yi(d,[])]);const m=fr(r)===s;return this.processSegment(l,c,p,g,m?ee:s,!0).pipe(Ne(w=>[new yi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function pee(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=iu(o,t);return ns(function eee(t){return t&&bl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),bF())}(e,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(Qt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function _ee(t){return dl(wF(!1,3))}())):z({routes:[],injector:e})}}function xee(t){const e=t.value.routeConfig;return e&&""===e.path}function NF(t){const e=[],n=new Set;for(const r of t){if(!xee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=NF(r.children);e.push(new yi(r.value,i))}return e.filter(r=>!n.has(r))}function RF(t){return t.data||{}}function MF(t){return t.resolve||{}}function kF(t){return"string"==typeof t.title||null===t.title}function MI(t){return Er(e=>{const n=t(e);return n?Pt(n).pipe(Ne(()=>e)):z(e)})}const au=new V("ROUTES");let kI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(mO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ns(n.loadComponent()).pipe(Ne(PF),Qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),gI(()=>{this.componentLoaders.delete(n)})),i=new HL(r,()=>new ni).pipe(fI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ne(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(au,[],ne.Self|ne.Optional).flat()),{routes:c.map(xI),injector:u}}),gI(()=>{this.childrenLoaders.delete(r)})),o=new HL(s,()=>new ni).pipe(fI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ns(n()).pipe(Ne(PF),kt(r=>r instanceof E1||Array.isArray(r)?z(r):Pt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PF(t){return function Lee(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Lp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.configLoader=L(kI),this.environmentInjector=L(li),this.urlSerializer=L(gl),this.rootContexts=L(Il),this.inputBindingEnabled=null!==L(Rp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new jn({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ts(r=>0!==r.id),Ne(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Er(r=>{let i=!1,s=!1;return z(r).pipe(Qt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Er(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new wl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ir}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return OF(o.source)&&(n.browserUrlTree=o.extractedUrl),z(o).pipe(Er(l=>{const d=this.transitions?.getValue();return this.events.next(new II(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Ir:Promise.resolve(l)}),function Nee(t,e,n,r,i,s){return kt(o=>function bee(t,e,n,r,i,s,o="emptyOnly"){return new See(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Qt(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new TZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new II(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=fF(0,this.rootComponentType).snapshot;return z(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new wl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ir}}),Qt(o=>{const a=new DZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ne(o=>r={...o,guards:QZ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function oee(t,e){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function aee(t,e,n,r){return Pt(t).pipe(kt(i=>function fee(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=Cl(e)??i,c=iu(a,u);return ns(function ree(t){return t&&bl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ro())})).pipe(su()):z(!0)}(i.component,i.route,n,e,r)),ro(i=>!0!==i,!0))}(o,r,i,t).pipe(kt(a=>a&&function ZZ(t){return"boolean"==typeof t}(a)?function uee(t,e,n,r){return Pt(e).pipe(hl(i=>hI(function lee(t,e){return null!==t&&e&&e(new RZ(t)),z(!0)}(i.route.parent,r),function cee(t,e){return null!==t&&e&&e(new kZ(t)),z(!0)}(i.route,r),function hee(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function YZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>jL(()=>z(o.guards.map(u=>{const c=Cl(o.node)??n,l=iu(u,c);return ns(function nee(t){return t&&bl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ro())})).pipe(su())));return z(s).pipe(su())}(t,i.path,n),function dee(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>jL(()=>{const o=Cl(e)??n,a=iu(s,o);return ns(function tee(t){return t&&bl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ro())}));return z(i).pipe(su())}(t,i.route,n))),ro(i=>!0!==i,!0))}(r,s,t,e):z(a)),Ne(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Qt(o=>{if(r.guardsResult=o.guardsResult,oo(o.guardsResult))throw vF(0,o.guardsResult);const a=new bZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ts(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),MI(o=>{if(o.guards.canActivateChecks.length)return z(o).pipe(Qt(a=>{const u=new SZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Er(a=>{let u=!1;return z(a).pipe(function Ree(t,e){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return Pt(i).pipe(hl(o=>function Mee(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!kF(i)&&(s[fl]=i.title),function kee(t,e,n,r){const i=function Pee(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const s={};return Pt(i).pipe(kt(o=>function Oee(t,e,n,r){const i=Cl(e)??r,s=iu(t,i);return ns(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ro(),Qt(a=>{s[o]=a}))),pI(1),function QJ(t){return Ne(()=>t)}(s),io(o=>DF(o)?Ir:dl(o)))}(s,t,e,r).pipe(Ne(o=>(t._resolvedData=o,t.data=pF(t,n).resolve,i&&kF(i)&&(t.data[fl]=i.title),null)))}(o.route,r,t,e)),Qt(()=>s++),pI(1),kt(o=>s===i.length?z(n):Ir))})}(n.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Qt(a=>{const u=new AZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),MI(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Qt(l=>{u.component=l}),Ne(()=>{})));for(const l of u.children)c.push(...a(l));return c};return dI(a(o.targetSnapshot.root)).pipe(Ep(),Za(1))}),MI(()=>this.afterPreactivation()),Ne(o=>{const a=function UZ(t,e,n){const r=El(t,e._root,n?n._root:void 0);return new hF(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Qt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Ne(i=>(new KZ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Za(1),Qt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),gI(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),io(o=>{if(s=!0,EF(o)){IF(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new xp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),IF(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||OF(r.source)};n.scheduleNavigation(u,vl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new EI(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Ir}))}))}cancelNavigationTransition(n,r,i){const s=new xp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function OF(t){return t!==vl}let LF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[fl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return L(Fee)},providedIn:"root"}),t})(),Fee=(()=>{class t extends LF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(B(FL))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return L(Bee)},providedIn:"root"}),t})();class Uee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Bee=(()=>{class t extends Uee{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function CR(t){return ii(()=>{const e=t.prototype.constructor,n=e[si]||Ay(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[si]||Ay(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Fp=new V("",{providedIn:"root",factory:()=>({})});let $ee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return L(jee)},providedIn:"root"}),t})(),jee=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Sl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sl||{});function FF(t,e){t.events.pipe(ts(n=>n instanceof ao||n instanceof xp||n instanceof EI||n instanceof wl),Ne(n=>n instanceof ao||n instanceof wl?Sl.COMPLETE:n instanceof xp&&(0===n.code||1===n.code)?Sl.REDIRECTING:Sl.FAILED),ts(n=>n!==Sl.REDIRECTING),Za(1)).subscribe(()=>{e()})}function Hee(t){throw t}function zee(t,e,n){return e.parse("/")}const Gee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(pO),this.isNgZoneEnabled=!1,this.options=L(Fp,{optional:!0})||{},this.pendingTasks=L(gO),this.errorHandler=this.options.errorHandler||Hee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L($ee),this.routeReuseStrategy=L(Vee),this.titleStrategy=L(LF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(au,{optional:!0})?.flat()??[],this.navigationTransitions=L(Lp),this.urlSerializer=L(gl),this.location=L(Bw),this.componentInputBindingEnabled=!!L(Rp,{optional:!0}),this.isNgZoneEnabled=L(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=rF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return iF(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=oo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,vl,null,r)}navigate(n,r={skipLocationChange:!1}){return function Wee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Gee}:!1===r?{...qee}:r,oo(n))return KL(this.currentUrlTree,n,i);const s=this.parseUrl(n);return KL(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return FF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class VF{}let Yee=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ts(n=>n instanceof ao),hl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=rw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Pt(i).pipe(ia())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(kt(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Pt([s,this.loader.loadComponent(r)]).pipe(ia()):s})}}return t.\u0275fac=function(n){return new(n||t)(B(Yn),B(mO),B(li),B(VF),B(kI))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const OI=new V("");let UF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof II?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ao?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof wl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function ak(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function vi(t,e){return{\u0275kind:t,\u0275providers:e}}function $F(){const t=L(Pn);return e=>{const n=t.get(Ya);if(e!==n.components[0])return;const r=t.get(Yn),i=t.get(jF);1===t.get(LI)&&r.initialNavigation(),t.get(HF,null,ne.Optional)?.setUpPreloading(),t.get(OI,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const jF=new V("",{factory:()=>new ni}),LI=new V("",{providedIn:"root",factory:()=>1}),HF=new V("");function ete(t){return vi(0,[{provide:HF,useExisting:Yee},{provide:VF,useExisting:t}])}const zF=new V("ROUTER_FORROOT_GUARD"),nte=[Bw,{provide:gl,useClass:mI},Yn,Il,{provide:ru,useFactory:function BF(t){return t.routerState.root},deps:[Yn]},kI,[]];function rte(){return new SO("Router",Yn)}let GF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[nte,[],{provide:au,multi:!0,useValue:n},{provide:zF,useFactory:ate,deps:[[Yn,new mt,new df]]},{provide:Fp,useValue:r||{}},r?.useHash?{provide:no,useClass:uY}:{provide:no,useClass:tL},{provide:OI,useFactory:()=>{const t=L(NX),e=L(be),n=L(Fp),r=L(Lp),i=L(gl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new UF(i,r,t,e,n)}},r?.preloadingStrategy?ete(r.preloadingStrategy).\u0275providers:[],{provide:SO,multi:!0,useFactory:rte},r?.initialNavigation?ute(r):[],r?.bindToComponentInputs?vi(8,[yF,{provide:Rp,useExisting:yF}]).\u0275providers:[],[{provide:qF,useFactory:$F},{provide:Sw,multi:!0,useExisting:qF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:au,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(B(zF,8))},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({}),t})();function ate(t){return"guarded"}function ute(t){return["disabled"===t.initialNavigation?vi(3,[{provide:vw,multi:!0,useFactory:()=>{const e=L(Yn);return()=>{e.setUpLocationChangeListener()}}},{provide:LI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?vi(2,[{provide:LI,useValue:0},{provide:vw,multi:!0,deps:[Pn],useFactory:e=>{const n=e.get(oY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Yn),s=e.get(jF);FF(i,()=>{r(!0)}),e.get(Lp).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const qF=new V(""),lte=[];let dte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({imports:[GF.forRoot(lte),GF]}),t})(),hte=(()=>{class t{constructor(){this.title="testDb"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oy({type:t,selectors:[["app-root"]],decls:10,vars:5,template:function(n,r){1&n&&(Yi(0,"h1"),za(1),Xi(),Yi(2,"h1"),za(3),Xi(),Yi(4,"h1"),za(5),Xi(),Yi(6,"h1"),za(7),Xi(),Yi(8,"h1"),za(9),Xi()),2&n&&(Ma(1),Zs(r.title),Ma(2),Zs(r.title),Ma(2),Zs(r.title),Ma(2),Zs(r.title),Ma(2),Zs(r.title))}}),t})();function WF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){WF(s,r,i,o,a,"next",u)}function a(u){WF(s,r,i,o,a,"throw",u)}o(void 0)})}}const x=function(t,e){if(!t)throw uu(e)},uu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},KF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new pte;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QF=function(t){const e=KF(t);return Vp.encodeByteArray(e,!0)},Up=function(t){return QF(t).replace(/\./g,"")},Bp=function(t){try{return Vp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gte(t){return YF(void 0,t)}function YF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mte(n)||(t[n]=YF(t[n],e[n]));return t}function mte(t){return"__proto__"!==t}const $p=()=>{try{return function _te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},XF=t=>{var e,n;return null===(n=null===(e=$p())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},JF=t=>{const e=XF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZF=()=>{var t;return null===(t=$p())||void 0===t?void 0:t.config},e2=t=>{var e;return null===(e=$p())||void 0===e?void 0:e[`_${t}`]};class cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function t2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Up(JSON.stringify({alg:"none",type:"JWT"})),Up(JSON.stringify(o)),""].join(".")}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function UI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function n2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function uo(){try{return"object"==typeof indexedDB}catch{return!1}}function Al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function BI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}}class Lr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Tte(t,e){return t.replace(Dte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Dte=/\{\$([^}]+)}/g;function xl(t){return JSON.parse(t)}function Lt(t){return JSON.stringify(t)}const jp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=xl(Bp(s[0])||""),n=xl(Bp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Ii(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function zp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(r2(s)&&r2(o)){if(!zp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r2(t){return null!==t&&"object"==typeof t}function Nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Ate{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Nte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Rte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=jI),void 0===i.error&&(i.error=jI),void 0===i.complete&&(i.complete=jI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jI(){}const qp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},kte=1e3,Pte=2,Ote=144e5,Lte=.5;function HI(t,e=kte,n=Pte){const r=e*Math.pow(n,t),i=Math.round(Lte*r*(Math.random()-.5)*2);return Math.min(Ote,r+i)}function Fr(t){return t&&t._delegate?t._delegate:t}class Ft{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class Vte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Bte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===co?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $te{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const zI=[];var he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{});const i2={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},jte=he.INFO,Hte={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},zte=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Hte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class lo{constructor(e){this.name=e,this._logLevel=jte,this._logHandler=zte,this._userLogHandler=null,zI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const Gte=(t,e)=>e.some(n=>t instanceof n);let s2,o2;const a2=new WeakMap,GI=new WeakMap,u2=new WeakMap,qI=new WeakMap,WI=new WeakMap;let KI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return GI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||u2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Jte(t){return"function"==typeof t?function Xte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wte(){return o2||(o2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(QI(this),e),rs(a2.get(this))}:function(...e){return rs(t.apply(QI(this),e))}:function(e,...n){const r=t.call(QI(this),e,...n);return u2.set(r,e.sort?e.sort():[e]),rs(r)}}(t):(t instanceof IDBTransaction&&function Qte(t){if(GI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});GI.set(t,e)}(t),Gte(t,function qte(){return s2||(s2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,KI):t)}function rs(t){if(t instanceof IDBRequest)return function Kte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&a2.set(n,t)}).catch(()=>{}),WI.set(e,t),e}(t);if(qI.has(t))return qI.get(t);const e=Jte(t);return e!==t&&(qI.set(t,e),WI.set(e,t)),e}const QI=t=>WI.get(t),ene=["get","getKey","getAll","getAllKeys","count"],tne=["put","add","delete","clear"],YI=new Map;function c2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(YI.get(e))return YI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ene.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return YI.set(e,s),s}!function Yte(t){KI=t(KI)}(t=>({...t,get:(e,n,r)=>c2(e,n)||t.get(e,n,r),has:(e,n)=>!!c2(e,n)||t.has(e,n)}));class nne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function rne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const XI="@firebase/app",ho=new lo("@firebase/app"),Wp="[DEFAULT]",xne={[XI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fo=new Map,Kp=new Map;function Nne(t,e){try{t.container.addComponent(e)}catch(n){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yt(t){const e=t.name;if(Kp.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of fo.values())Nne(n,t);return!0}function po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ei=new Lr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const is="9.23.0";function d2(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=ZF()),!n)throw Ei.create("no-options");const s=fo.get(i);if(s){if(zp(n,s.options)&&zp(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new $te(i);for(const u of Kp.values())o.addComponent(u);const a=new Mne(n,r,o);return fo.set(i,a),a}function Qp(t=Wp){const e=fo.get(t);if(!e&&t===Wp&&ZF())return d2();if(!e)throw Ei.create("no-app",{appName:t});return e}function h2(){return Array.from(fo.values())}function Fe(t,e,n){var r;let i=null!==(r=xne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ho.warn(a.join(" "))}Yt(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kne="firebase-heartbeat-database",Pne=1,Rl="firebase-heartbeat-store";let ZI=null;function f2(){return ZI||(ZI=function Zte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rs(o.result),u.oldVersion,u.newVersion,rs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(kne,Pne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rl)}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),ZI}function eE(){return(eE=_(function*(t){try{return yield(yield f2()).transaction(Rl).objectStore(Rl).get(g2(t))}catch(e){if(e instanceof Xn)ho.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});ho.warn(n.message)}}})).apply(this,arguments)}function p2(t,e){return tE.apply(this,arguments)}function tE(){return(tE=_(function*(t,e){try{const r=(yield f2()).transaction(Rl,"readwrite");yield r.objectStore(Rl).put(e,g2(t)),yield r.done}catch(n){if(n instanceof Xn)ho.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n?.message});ho.warn(r.message)}}})).apply(this,arguments)}function g2(t){return`${t.name}!${t.options.appId}`}class Vne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=m2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=m2(),{heartbeatsToSend:r,unsentEntries:i}=function Une(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Up(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function m2(){return(new Date).toISOString().substring(0,10)}class Bne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!uo()&&Al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function One(t){return eE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return p2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return p2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function _2(t){return Up(JSON.stringify({version:2,heartbeats:t})).length}!function $ne(t){Yt(new Ft("platform-logger",e=>new nne(e),"PRIVATE")),Yt(new Ft("heartbeat",e=>new Vne(e),"PRIVATE")),Fe(XI,"0.9.13",t),Fe(XI,"0.9.13","esm2017"),Fe("fire-js","")}(""),Fe("firebase","9.23.0","app");const zne=(t,e)=>e.some(n=>t instanceof n);let y2,v2;const w2=new WeakMap,nE=new WeakMap,I2=new WeakMap,rE=new WeakMap,iE=new WeakMap;let sE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||I2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Xne(t){return"function"==typeof t?function Yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qne(){return v2||(v2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(oE(this),e),ss(w2.get(this))}:function(...e){return ss(t.apply(oE(this),e))}:function(e,...n){const r=t.call(oE(this),e,...n);return I2.set(r,e.sort?e.sort():[e]),ss(r)}}(t):(t instanceof IDBTransaction&&function Kne(t){if(nE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nE.set(t,e)}(t),zne(t,function Gne(){return y2||(y2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sE):t)}function ss(t){if(t instanceof IDBRequest)return function Wne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&w2.set(n,t)}).catch(()=>{}),iE.set(e,t),e}(t);if(rE.has(t))return rE.get(t);const e=Xne(t);return e!==t&&(rE.set(t,e),iE.set(e,t)),e}const oE=t=>iE.get(t),Zne=["get","getKey","getAll","getAllKeys","count"],ere=["put","add","delete","clear"],aE=new Map;function E2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aE.get(e))return aE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ere.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Zne.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aE.set(e,s),s}!function Qne(t){sE=t(sE)}(t=>({...t,get:(e,n,r)=>E2(e,n)||t.get(e,n,r),has:(e,n)=>!!E2(e,n)||t.has(e,n)}));const C2="@firebase/installations",uE="0.6.4",T2=1e4,D2=`w:${uE}`,b2="FIS_v2",tre="https://firebaseinstallations.googleapis.com/v1",nre=36e5,Ci=new Lr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function S2(t){return t instanceof Xn&&t.code.includes("request-failed")}function cE({projectId:t}){return`${tre}/projects/${t}/installations`}function A2(t){return{token:t.token,requestStatus:2,expiresIn:ore(t.expiresIn),creationTime:Date.now()}}function lE(t,e){return dE.apply(this,arguments)}function dE(){return(dE=_(function*(t,e){const r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function x2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hE(t){return fE.apply(this,arguments)}function fE(){return(fE=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ore(t){return Number(t.replace("s","000"))}function pE(){return(pE=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cE(t),i=x2(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:b2,appId:t.appId,sdkVersion:D2})},u=yield hE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:A2(c.authToken)}}throw yield lE("Create Installation",u)})).apply(this,arguments)}function R2(t){return new Promise(e=>{setTimeout(e,t)})}const lre=/^[cdef][\w-]{21}$/,gE="";function dre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function hre(t){return function cre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return lre.test(n)?n:gE}catch{return gE}}function du(t){return`${t.appName}!${t.appId}`}const hu=new Map;function M2(t,e){const n=du(t);k2(n,e),function gre(t,e){const n=function P2(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=t=>{k2(t.data.key,t.data.fid)}),go}();n&&n.postMessage({key:t,fid:e}),function O2(){0===hu.size&&go&&(go.close(),go=null)}()}(n,e)}function k2(t,e){const n=hu.get(t);if(n)for(const r of n)r(e)}let go=null;const mre="firebase-installations-database",_re=1,mo="firebase-installations-store";let mE=null;function _E(){return mE||(mE=function Jne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ss(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ss(o.result),u.oldVersion,u.newVersion,ss(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(mre,_re,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mo)}})),mE}function Yp(t,e){return yE.apply(this,arguments)}function yE(){return(yE=_(function*(t,e){const n=du(t),i=(yield _E()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&M2(t,e.fid),e})).apply(this,arguments)}function vE(t){return wE.apply(this,arguments)}function wE(){return(wE=_(function*(t){const e=du(t),r=(yield _E()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function Ml(t,e){return IE.apply(this,arguments)}function IE(){return(IE=_(function*(t,e){const n=du(t),i=(yield _E()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&M2(t,a.fid),a})).apply(this,arguments)}function EE(t){return CE.apply(this,arguments)}function CE(){return CE=_(function*(t){let e;const n=yield Ml(t.appConfig,r=>{const i=function yre(t){return F2(t||{fid:dre(),registrationStatus:0})}(r),s=function vre(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ci.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function wre(t,e){return TE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ire(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===gE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),CE.apply(this,arguments)}function TE(){return TE=_(function*(t,e){try{const n=yield function ure(t,e){return pE.apply(this,arguments)}(t,e);return Yp(t.appConfig,n)}catch(n){throw S2(n)&&409===n.customData.serverCode?yield vE(t.appConfig):yield Yp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),TE.apply(this,arguments)}function Ire(t){return DE.apply(this,arguments)}function DE(){return(DE=_(function*(t){let e=yield L2(t.appConfig);for(;1===e.registrationStatus;)yield R2(100),e=yield L2(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield EE(t);return r||n}return e})).apply(this,arguments)}function L2(t){return Ml(t,e=>{if(!e)throw Ci.create("installation-not-found");return F2(e)})}function F2(t){return function Ere(t){return 1===t.registrationStatus&&t.registrationTime+T2<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function bE(){return(bE=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Tre(t,{fid:e}){return`${cE(t)}/${e}/authTokens:generate`}(t,n),i=function N2(t,{refreshToken:e}){const n=x2(t);return n.append("Authorization",function are(t){return`${b2} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:D2,appId:t.appId}})},u=yield hE(()=>fetch(r,a));if(u.ok)return A2(yield u.json());throw yield lE("Generate Auth Token",u)})).apply(this,arguments)}function SE(t){return AE.apply(this,arguments)}function AE(){return AE=_(function*(t,e=!1){let n;const r=yield Ml(t.appConfig,s=>{if(!U2(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&function Sre(t){return 2===t.requestStatus&&!function Are(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+nre}(t)}(o))return s;if(1===o.requestStatus)return n=function Dre(t,e){return xE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=function xre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function bre(t,e){return NE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),AE.apply(this,arguments)}function xE(){return(xE=_(function*(t,e){let n=yield V2(t.appConfig);for(;1===n.authToken.requestStatus;)yield R2(100),n=yield V2(t.appConfig);const r=n.authToken;return 0===r.requestStatus?SE(t,e):r})).apply(this,arguments)}function V2(t){return Ml(t,e=>{if(!U2(e))throw Ci.create("not-registered");return function Nre(t){return 1===t.requestStatus&&t.requestTime+T2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function NE(){return NE=_(function*(t,e){try{const n=yield function Cre(t,e){return bE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Yp(t.appConfig,r),n}catch(n){if(!S2(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yp(t.appConfig,r)}else yield vE(t.appConfig);throw n}}),NE.apply(this,arguments)}function U2(t){return void 0!==t&&2===t.registrationStatus}function RE(){return(RE=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield EE(e);return r?r.catch(console.error):SE(e).catch(console.error),n.fid})).apply(this,arguments)}function ME(){return ME=_(function*(t,e=!1){const n=t;return yield function kre(t){return kE.apply(this,arguments)}(n),(yield SE(n,e)).token}),ME.apply(this,arguments)}function kE(){return(kE=_(function*(t){const{registrationPromise:e}=yield EE(t);e&&(yield e)})).apply(this,arguments)}function LE(t){return Ci.create("missing-app-config-values",{valueName:t})}const B2="installations",Vre=t=>{const e=t.getProvider("app").getImmediate(),n=function Lre(t){if(!t||!t.options)throw LE("App Configuration");if(!t.name)throw LE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw LE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:po(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ure=t=>{const n=po(t.getProvider("app").getImmediate(),B2).getImmediate();return{getId:()=>function Rre(t){return RE.apply(this,arguments)}(n),getToken:i=>function Mre(t){return ME.apply(this,arguments)}(n,i)}};(function Bre(){Yt(new Ft(B2,Vre,"PUBLIC")),Yt(new Ft("installations-internal",Ure,"PRIVATE"))})(),Fe(C2,uE),Fe(C2,uE,"esm2017");const FE="@firebase/remote-config",Cn=new Lr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xre{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Jre(t=navigator){return t.languages&&t.languages[0]||t.language}class Zre{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Jre()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w?.name&&(y="fetch-timeout"),Cn.create(y,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw Cn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class nie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function eie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function tie(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+HI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class sie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jp(t,e){const n=t.target.error||void 0;return Cn.create(e,{originalErrorMessage:n&&n?.message})}const _o="app_namespace_store";class cie{constructor(e,n,r,i=function uie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Jp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(n){e(Cn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_o],"readonly").objectStore(_o),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Jp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Cn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([_o],"readwrite").objectStore(_o),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Jp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Cn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_o],"readwrite").objectStore(_o),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Jp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Cn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class lie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hie(){return jE.apply(this,arguments)}function jE(){return(jE=_(function*(){if(!uo())return!1;try{return yield Al()}catch{return!1}})).apply(this,arguments)}!function die(){Yt(new Ft("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cn.create("registration-window");if(!uo())throw Cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Cn.create("registration-project-id");if(!o)throw Cn.create("registration-api-key");if(!a)throw Cn.create("registration-app-id");const u=new cie(a,r.name,n=n||"firebase"),c=new lie(u),l=new lo(FE);l.logLevel=he.ERROR;const d=new Zre(i,is,n,s,o,a),h=new nie(d,u),f=new Xre(h,u,c,l),p=new sie(r,f,c,u,l);return function Kre(t){const e=Fr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Fe(FE,"0.4.4"),Fe(FE,"0.4.4","esm2017")}();const fie=(t,e)=>e.some(n=>t instanceof n);let z2,G2;const q2=new WeakMap,HE=new WeakMap,W2=new WeakMap,zE=new WeakMap,GE=new WeakMap;let qE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return HE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||W2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wie(t){return"function"==typeof t?function vie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gie(){return G2||(G2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(WE(this),e),Ti(q2.get(this))}:function(...e){return Ti(t.apply(WE(this),e))}:function(e,...n){const r=t.call(WE(this),e,...n);return W2.set(r,e.sort?e.sort():[e]),Ti(r)}}(t):(t instanceof IDBTransaction&&function _ie(t){if(HE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});HE.set(t,e)}(t),fie(t,function pie(){return z2||(z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qE):t)}function Ti(t){if(t instanceof IDBRequest)return function mie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q2.set(n,t)}).catch(()=>{}),GE.set(e,t),e}(t);if(zE.has(t))return zE.get(t);const e=wie(t);return e!==t&&(zE.set(t,e),GE.set(e,t)),e}const WE=t=>GE.get(t);function K2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ti(o.result),u.oldVersion,u.newVersion,Ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function KE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ti(n).then(()=>{})}const Iie=["get","getKey","getAll","getAllKeys","count"],Eie=["put","add","delete","clear"],QE=new Map;function Q2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(QE.get(e))return QE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Iie.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return QE.set(e,s),s}!function yie(t){qE=t(qE)}(t=>({...t,get:(e,n,r)=>Q2(e,n)||t.get(e,n,r),has:(e,n)=>!!Q2(e,n)||t.has(e,n)}));const Cie="/firebase-messaging-sw.js",Tie="/firebase-cloud-messaging-push-scope",Y2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Die="https://fcmregistrations.googleapis.com/v1",X2="google.c.a.c_id",bie="google.c.a.c_l",Sie="google.c.a.ts";var Zp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Zp||{});function Di(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const YE="fcm_token_details_db",Rie=5,J2="fcm_token_object_Store";function XE(){return XE=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(YE))return null;let e=null;return(yield K2(YE,Rie,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(J2))return;const c=a.objectStore(J2),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Di(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield KE(YE),yield KE("fcm_vapid_details_db"),yield KE("undefined"),function kie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XE.apply(this,arguments)}const Pie="firebase-messaging-database",Oie=1,yo="firebase-messaging-store";let JE=null;function ZE(){return JE||(JE=K2(Pie,Oie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(yo)}})),JE}function Z2(t){return eC.apply(this,arguments)}function eC(){return eC=_(function*(t){const e=iC(t),r=yield(yield ZE()).transaction(yo).objectStore(yo).get(e);if(r)return r;{const i=yield function Mie(t){return XE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield tC(t,i),i}}),eC.apply(this,arguments)}function tC(t,e){return nC.apply(this,arguments)}function nC(){return(nC=_(function*(t,e){const n=iC(t),i=(yield ZE()).transaction(yo,"readwrite");return yield i.objectStore(yo).put(e,n),yield i.done,e})).apply(this,arguments)}function rC(){return(rC=_(function*(t){const e=iC(t),r=(yield ZE()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.done})).apply(this,arguments)}function iC({appConfig:t}){return t.appId}const Vt=new Lr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vie(t,e){return sC.apply(this,arguments)}function sC(){return(sC=_(function*(t,e){const n=yield cC(t),r=tV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uC(t.appConfig),i)).json()}catch(o){throw Vt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Vt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Vt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oC(){return(oC=_(function*(t,e){const n=yield cC(t),r=tV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uC(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Vt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Vt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Vt.create("token-update-no-token");return s.token})).apply(this,arguments)}function eV(t,e){return aC.apply(this,arguments)}function aC(){return(aC=_(function*(t,e){const r={method:"DELETE",headers:yield cC(t)};try{const s=yield(yield fetch(`${uC(t.appConfig)}/${e}`,r)).json();if(s.error)throw Vt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Vt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uC({projectId:t}){return`${Die}/projects/${t}/registrations`}function cC(t){return lC.apply(this,arguments)}function lC(){return(lC=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Y2&&(i.web.applicationPubKey=r),i}const Bie=6048e5;function dC(){return dC=_(function*(t){const e=yield function Hie(t,e){return gC.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Di(e.getKey("auth")),p256dh:Di(e.getKey("p256dh"))},r=yield Z2(t.firebaseDependencies);if(r){if(function zie(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Bie?function jie(t,e){return fC.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rV(t.firebaseDependencies,n)}return rV(t.firebaseDependencies,n)}),dC.apply(this,arguments)}function hC(){return hC=_(function*(t){const e=yield Z2(t.firebaseDependencies);e&&(yield eV(t.firebaseDependencies,e.token),yield function Lie(t){return rC.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hC.apply(this,arguments)}function fC(){return fC=_(function*(t,e){try{const n=yield function Uie(t,e){return oC.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tC(t.firebaseDependencies,r),n}catch(n){throw yield function nV(t){return hC.apply(this,arguments)}(t),n}}),fC.apply(this,arguments)}function rV(t,e){return pC.apply(this,arguments)}function pC(){return(pC=_(function*(t,e){const r={token:yield Vie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tC(t,r),r.token})).apply(this,arguments)}function gC(){return(gC=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nie(e)})})).apply(this,arguments)}function iV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Gie(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function qie(t,e){e.data&&(t.data=e.data)}(e,t),function Wie(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function sV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mC(t){return Vt.create("missing-app-config-values",{valueName:t})}sV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yie{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Qie(t){if(!t||!t.options)throw mC("App Configuration Object");if(!t.name)throw mC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _C(){return(_C=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Cie,{scope:Tie}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yC(){return(yC=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function oV(t){return _C.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function vC(){return(vC=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Y2)})).apply(this,arguments)}function wC(){return wC=_(function*(t,e){if(!navigator)throw Vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vt.create("permission-blocked");return yield function Jie(t,e){return vC.apply(this,arguments)}(t,e?.vapidKey),yield function Xie(t,e){return yC.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function $ie(t){return dC.apply(this,arguments)}(t)}),wC.apply(this,arguments)}function IC(){return(IC=_(function*(t,e,n){const r=function ese(t){switch(t){case Zp.NOTIFICATION_CLICKED:return"notification_open";case Zp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[X2],message_name:n[bie],message_time:n[Sie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EC(){return EC=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iV(n)):t.onMessageHandler.next(iV(n)));const r=n.data;(function Kie(t){return"object"==typeof t&&!!t&&X2 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Zie(t,e,n){return IC.apply(this,arguments)}(t,n.messageType,r))}),EC.apply(this,arguments)}const uV="@firebase/messaging",nse=t=>{const e=new Yie(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function tse(t,e){return EC.apply(this,arguments)}(e,n)),e},rse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function aV(t,e){return wC.apply(this,arguments)}(e,r)}};function lV(){return CC.apply(this,arguments)}function CC(){return(CC=_(function*(){try{yield Al()}catch{return!1}return typeof window<"u"&&uo()&&BI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ise(){Yt(new Ft("messaging",nse,"PUBLIC")),Yt(new Ft("messaging-internal",rse,"PRIVATE")),Fe(uV,"0.12.4"),Fe(uV,"0.12.4","esm2017")}();const eg="analytics",ase="firebase_id",use="origin",cse=6e4,lse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bC="https://www.googletagmanager.com/gtag/js",Tt=new lo("@firebase/analytics"),hn=new Lr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hse(t){if(!t.startsWith(bC)){const e=hn.create("invalid-gtag-resource",{gtagURL:t});return Tt.warn(e.message),""}return t}function dV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SC(){return(SC=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield dV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Tt.error(a)}t("config",i,s)})).apply(this,arguments)}function AC(){return(AC=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Tt.error(s)}})).apply(this,arguments)}const Ise=30,hV=new class Cse{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Tse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function xC(){return(xC=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Tse(r)},s=lse.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function NC(){return(NC=_(function*(t,e=hV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw hn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw hn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new xse;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:cse),fV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function fV(t,e,n){return RC.apply(this,arguments)}function RC(){return RC=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hV){var s;const{appId:o,measurementId:a}=t;try{yield function Sse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Dse(t){return xC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Ase(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?HI(n,i.intervalMillis,Ise):HI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Tt.debug(`Calling attemptFetch again in ${l} millis`),fV(t,d,r,i)}}),RC.apply(this,arguments)}class xse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let MC,UC;function kC(){return(kC=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function BC(){return(BC=_(function*(){if(!uo())return Tt.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Al()}catch(t){return Tt.warn(hn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function $C(){return $C=_(function*(t,e,n,r,i,s,o){var a;const u=function bse(t){return NC.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Tt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Tt.error(f)),e.push(u);const c=function Lse(){return BC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function wse(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bC)&&n.src.includes(t))return n;return null})(s)||function pse(t,e){const n=function fse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:hse}),r=document.createElement("script"),i=`${bC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),UC&&(i("consent","default",UC),function pV(t){UC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[use]="firebase",h.update=!0,null!=d&&(h[ase]=d),i("config",l.measurementId,h),MC&&(i("set",MC),function gV(t){MC=t}(void 0)),l.measurementId}),$C.apply(this,arguments)}class Vse{constructor(e){this.app=e}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},mV=[];const _V={};let vV,Ur,tg="dataLayer",jC=!1;function Bse(t,e,n){!function Use(){const t=[];if(UI()&&t.push("This is a browser extension environment."),BI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=hn.create("invalid-analytics-context",{errorInfo:e});Tt.warn(n.message)}}();const r=t.options.appId;if(!r)throw hn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw hn.create("no-api-key");Tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[r])throw hn.create("already-exists",{id:r});if(!jC){!function gse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(tg);const{wrappedGtag:s,gtagCore:o}=function vse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function yse(t,e,n,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function _se(t,e,n,r,i){return AC.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function mse(t,e,n,r,i,s){return SC.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Tt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Vr,mV,_V,tg,"gtag");Ur=s,vV=o,jC=!0}return Vr[r]=function Fse(t,e,n,r,i,s,o){return $C.apply(this,arguments)}(t,mV,_V,e,vV,tg,n),new Vse(t)}function jse(){return HC.apply(this,arguments)}function HC(){return(HC=_(function*(){if(UI()||!BI()||!uo())return!1;try{return yield Al()}catch{return!1}})).apply(this,arguments)}const wV="@firebase/analytics";!function zse(){Yt(new Ft(eg,(e,{options:n})=>Bse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Yt(new Ft("analytics-internal",function t(e){try{const n=e.getProvider(eg).getImmediate();return{logEvent:(r,i,s)=>function Hse(t,e,n,r){t=Fr(t),function Nse(t,e,n,r,i){return kC.apply(this,arguments)}(Ur,Vr[t.app.options.appId],e,n,r).catch(i=>Tt.error(i))}(n,r,i,s)}}catch(n){throw hn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Fe(wV,"0.10.0"),Fe(wV,"0.10.0","esm2017")}();class Gse extends An{constructor(e,n){super()}schedule(e,n=0){return this}}const ng={setInterval(t,e,...n){const{delegate:r}=ng;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ng;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EV extends Gse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ng.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ng.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ra(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CV={now:()=>(CV.delegate||Date).now(),delegate:void 0};class kl{constructor(e,n=kl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}kl.now=CV.now;class TV extends kl{constructor(e,n=kl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Kse=new class Wse extends TV{}(class qse extends EV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Qse=new TV(EV),Pl=new $c("7.6.1"),GC="__angularfire_symbol__analyticsIsSupportedValue",qC="__angularfire_symbol__analyticsIsSupported",WC="__angularfire_symbol__remoteConfigIsSupportedValue",KC="__angularfire_symbol__remoteConfigIsSupported",QC="__angularfire_symbol__messagingIsSupportedValue",YC="__angularfire_symbol__messagingIsSupported";function rg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[qC]||(globalThis[qC]=jse().then(t=>globalThis[GC]=t).catch(()=>globalThis[GC]=!1)),globalThis[YC]||(globalThis[YC]=lV().then(t=>globalThis[QC]=t).catch(()=>globalThis[QC]=!1)),globalThis[KC]||(globalThis[KC]=hie().then(t=>globalThis[WC]=t).catch(()=>globalThis[WC]=!1));const ig=(t,e)=>{const n=e?[e]:h2(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function fu(){}class DV{constructor(e,n=Kse){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Yse{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)),n.pipe(Qt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sg=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new DV(Zone.current)),this.insideAngular=n.run(()=>new DV(Zone.current,Qse)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(be))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function wo(t){return vo().ngZone.run(()=>t())}function Jse(t){return vo(),function Zse(t){return function(n){return(n=n.lift(new Yse(t.ngZone))).pipe(kh(t.outsideAngular),Mh(t.insideAngular))}}(vo())(t)}const eoe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),wo(()=>t.apply(void 0,r))},og=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)))),r[s]=eoe(r[s],n));const i=function Xse(t){return vo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof et){const s=vo();return i.pipe(kh(s.outsideAngular),Mh(s.insideAngular))}return wo(()=>i)}return i instanceof et?i.pipe(Jse):i instanceof Promise?wo(()=>new Promise((s,o)=>i.then(a=>wo(()=>s(a)),a=>wo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:wo(()=>i)};class Io{constructor(e){return e}}class ag{constructor(){return h2()}}const JC=new V("angularfire2._apps"),noe={provide:Io,useFactory:function toe(t){return t&&1===t.length?t[0]:new Io(Qp())},deps:[[new mt,JC]]},roe={provide:ag,deps:[[new mt,JC]]};function ioe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Io(r)}}let soe=(()=>{class t{constructor(n){Fe("angularfire",Pl.full,"core"),Fe("angularfire",Pl.full,"app"),Fe("angular",HM.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(Ki))},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({providers:[noe,roe]}),t})();function ooe(t,...e){return{ngModule:soe,providers:[{provide:JC,useFactory:ioe(t),multi:!0,deps:[be,Pn,sg,...e]}]}}const aoe=og(d2,!0),uoe_firebase={projectId:"test-application-f29d7",appId:"1:641699687013:web:587f87b090866e3733b48c",databaseURL:"https://test-application-f29d7-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"test-application-f29d7.appspot.com",apiKey:"AIzaSyBOvcn1wMOIVDAmqGEZ7jFfMTubs8TSvjw",authDomain:"test-application-f29d7.firebaseapp.com",messagingSenderId:"641699687013",measurementId:"G-DBPBRHNNQ6"},ZC=new Map,bV={activated:!1,tokenObservers:[]},coe={initialized:!1,enabled:!1};function Qe(t){return ZC.get(t)||Object.assign({},bV)}function ug(){return coe}const eT="https://content-firebaseappcheck.googleapis.com/v1",foe="exchangeDebugToken",SV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class goe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new cu,yield function moe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new cu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ut=new Lr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tT(t){if(!Qe(t).activated)throw Ut.create("use-before-activation",{appName:t.name})}function dg(t,e){return rT.apply(this,arguments)}function rT(){return(rT=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ut.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ut.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ut.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function AV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eT}/projects/${n}/apps/${r}:${foe}?key=${i}`,body:{debug_token:e}}}const woe="firebase-app-check-database",Ioe=1,Ol="firebase-app-check-store";let hg=null;function iT(){return(iT=_(function*(t,e){const r=(yield function NV(){return hg||(hg=new Promise((t,e)=>{try{const n=indexedDB.open(woe,Ioe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ut.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ol,{keyPath:"compositeKey"})}}catch(n){e(Ut.create("storage-open",{originalErrorMessage:n?.message}))}}),hg)}()).transaction(Ol,"readwrite"),s=r.objectStore(Ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ut.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ll=new lo("@firebase/app-check");function aT(t,e){return uo()?function Coe(t,e){return function RV(t,e){return iT.apply(this,arguments)}(function kV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ll.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cT(){return ug().enabled}function lT(){return dT.apply(this,arguments)}function dT(){return(dT=_(function*(){const t=ug();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xoe={error:"UNKNOWN_ERROR"};function Noe(t){return Vp.encodeString(JSON.stringify(t),!1)}function fg(t){return hT.apply(this,arguments)}function hT(){return(hT=_(function*(t,e=!1){const n=t.app;tT(n);const r=Qe(n);let s,i=r.token;if(i&&!pu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(pu(u)?i=u:yield aT(n,void 0))}if(!e&&i&&pu(i))return{token:i.token};let a,o=!1;if(cT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dg(AV(n,yield lT()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield aT(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Qe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ll.warn(u.message):Ll.error(u),s=u}return i?s?a=pu(i)?{token:i.token,internalError:s}:FV(s):(a={token:i.token},r.token=i,yield aT(n,i)):a=FV(s),o&&function LV(t,e){const n=Qe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function PV(t){return fT.apply(this,arguments)}function fT(){return(fT=_(function*(t){const e=t.app;tT(e);const{provider:n}=Qe(e);if(cT()){const r=yield lT(),{token:i}=yield dg(AV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function gT(t,e){const n=Qe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function OV(t){const{app:e}=t,n=Qe(e);let r=n.tokenRefresher;r||(r=function Roe(t){const{app:e}=t;return new goe(_(function*(){let r;if(r=Qe(e).token?yield fg(t,!0):yield fg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Qe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},SV.RETRIAL_MIN_WAIT,SV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function pu(t){return t.expireTimeMillis-Date.now()>0}function FV(t){return{token:Noe(xoe),error:t}}class Moe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Qe(this.app);for(const n of e)gT(this.app,n.next);return Promise.resolve()}}const GV="app-check-internal";!function qoe(){Yt(new Ft("app-check",t=>function koe(t,e){return new Moe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(GV).initialize()})),Yt(new Ft(GV,t=>function Poe(t){return{getToken:e=>fg(t,e),getLimitedUseToken:()=>PV(t),addTokenListener:e=>function pT(t,e,n,r){const{app:i}=t,s=Qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&pu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),OV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>OV(t))}(t,"INTERNAL",e),removeTokenListener:e=>gT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Fe("@firebase/app-check","0.8.0")}();class gg{constructor(){return ig("app-check")}}typeof window<"u"&&window;const Xoe=function WV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},KV=new Lr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mg=new lo("@firebase/auth");function _g(t,...e){mg.logLevel<=he.ERROR&&mg.error(`Auth (${is}): ${t}`,...e)}function Tn(t,...e){throw wT(t,...e)}function Br(t,...e){return wT(t,...e)}function wT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KV.create(t,...e)}function S(t,e,...n){if(!t)throw wT(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _g(e),new Error(e)}function os(t,e){t||$r(e)}function Fl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function YV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=VI()||n2()}get(){return function Zoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function IT(){return"http:"===YV()||"https:"===YV()}()||UI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ET(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nae=new Vl(3e4,6e4);function qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ye(t,e,n,r){return CT.apply(this,arguments)}function CT(){return(CT=_(function*(t,e,n,r,i={}){return JV(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Nl(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),XV.fetch()(ZV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function JV(t,e,n){return TT.apply(this,arguments)}function TT(){return(TT=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tae),e);try{const i=new rae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ul(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ul(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ul(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Ul(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function QV(t,e,n){const r=Object.assign(Object.assign({},Xoe()),{[e]:n});return new Lr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Tn(t,l)}}catch(i){if(i instanceof Xn)throw i;Tn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function DT(){return(DT=_(function*(t,e,n,r,i={}){const s=yield Ye(t,e,n,r,i);return"mfaPendingCredential"in s&&Tn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function ZV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ET(t.config,i):`${t.config.apiScheme}://${i}`}class rae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),nae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ul(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}function bT(){return(bT=_(function*(t,e){return Ye(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function AT(){return(AT=_(function*(t,e){return Ye(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xT(){return(xT=_(function*(t,e=!1){const n=Fr(t),r=yield n.getIdToken(e),i=yg(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Bl(NT(i.auth_time)),issuedAtTime:Bl(NT(i.iat)),expirationTime:Bl(NT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function NT(t){return 1e3*Number(t)}function yg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return _g("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bp(n);return i?JSON.parse(i):(_g("Failed to decode base64 JWT payload"),null)}catch(i){return _g("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Si(t,e){return RT.apply(this,arguments)}function RT(){return(RT=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Xn&&function cae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class lae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class eU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $l(t){return MT.apply(this,arguments)}function MT(){return MT=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Si(t,function oae(t,e){return AT.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function fae(t){return t.map(e=>{var{providerId:n}=e,r=H_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function hae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eU(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),MT.apply(this,arguments)}function kT(){return(kT=_(function*(t){const e=Fr(t);yield $l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function PT(){return(PT=_(function*(t,e){const n=yield JV(t,{},_(function*(){const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function uae(t){const e=yg(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function pae(t,e){return PT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jl;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return $r("not implemented")}}function as(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield Si(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function aae(t){return xT.apply(this,arguments)}(this,e)}reload(){return function dae(t){return kT.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield $l(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Si(e,function iae(t,e){return bT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:k,isAnonymous:O,providerData:W,stsTokenManager:Ze}=n;S(T&&Ze,e,"internal-error");const wr=jl.fromJSON(this.name,Ze);S("string"==typeof T,e,"internal-error"),as(d,e.name),as(h,e.name),S("boolean"==typeof k,e,"internal-error"),S("boolean"==typeof O,e,"internal-error"),as(f,e.name),as(p,e.name),as(g,e.name),as(m,e.name),as(w,e.name),as(y,e.name);const Vs=new Eo({uid:T,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:wr,createdAt:w,lastLoginAt:y});return W&&Array.isArray(W)&&(Vs.providerData=W.map(nye=>Object.assign({},nye))),m&&(Vs._redirectEventId=m),Vs}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new jl;i.updateFromServerResponse(n);const s=new Eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $l(s),s})()}}const tU=new Map;function Ai(t){os(t instanceof Function,"Expected a class definition");let e=tU.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tU.set(t,e),e)}const nU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function vg(t,e,n){return`firebase:${t}:${e}:${n}`}class mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vg(this.userKey,i.apiKey,s),this.fullPersistenceKey=vg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Eo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new mu(Ai(nU),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ai(nU);const o=vg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Eo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new mu(s,e,r)):new mu(s,e,r)})()}}function rU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uU(e))return"Blackberry";if(cU(e))return"Webos";if(OT(e))return"Safari";if((e.includes("chrome/")||sU(e))&&!e.includes("edge/"))return"Chrome";if(aU(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iU(t=Ct()){return/firefox\//i.test(t)}function OT(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sU(t=Ct()){return/crios\//i.test(t)}function oU(t=Ct()){return/iemobile/i.test(t)}function aU(t=Ct()){return/android/i.test(t)}function uU(t=Ct()){return/blackberry/i.test(t)}function cU(t=Ct()){return/webos/i.test(t)}function wg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lU(t=Ct()){return wg(t)||aU(t)||cU(t)||uU(t)||/windows phone/i.test(t)||oU(t)}function dU(t,e=[]){let n;switch(t){case"Browser":n=rU(Ct());break;case"Worker":n=`${rU(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}function hU(t,e){return FT.apply(this,arguments)}function FT(){return(FT=_(function*(t,e){return Ye(t,"GET","/v2/recaptchaConfig",qe(t,e))})).apply(this,arguments)}function pU(t){return void 0!==t&&void 0!==t.enterprise}class gU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function VT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function vae(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function mU(t){return`__${t}${Math.floor(1e6*Math.random())}`}class _U{constructor(e){this.type="recaptcha-enterprise",this.auth=Dt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){hU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new gU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;pU(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&pU(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));VT("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Cae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Tae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yU(this),this.idTokenSubscription=new yU(this),this.beforeStateQueue=new Cae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield mu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield $l(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function eae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Fr(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Ai(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield hU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gU(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new _U(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&Ai(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield mu.create(n,[Ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Joe(t,...e){mg.logLevel<=he.WARN&&mg.warn(`Auth (${is}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Dt(t){return Fr(t)}class yU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function xte(t,e){const n=new Nte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Nae{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}function xi(t,e){return tD.apply(this,arguments)}function tD(){return(tD=_(function*(t,e){return function bi(t,e,n,r){return DT.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",qe(t,e))})).apply(this,arguments)}class cs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zae extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield Eo._fromIdTokenResponse(e,r,i),o=TU(r);return new Jn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=TU(r);return new Jn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function TU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Dg extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dg(e,n,r,i)}}function DU(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Dg._fromErrorAndOperation(t,s,e,r):s})}function dD(){return(dD=_(function*(t,e,n=!1){const r=yield Si(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jn._forOperation(t,"link",r)})).apply(this,arguments)}function fD(){return(fD=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Si(t,DU(r,i,e,t),n);S(s.idToken,r,"internal-error");const o=yg(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),Jn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Tn(r,"user-mismatch"),s}})).apply(this,arguments)}function pD(){return(pD=_(function*(t,e,n=!1){const r="signIn",i=yield DU(t,r,e),s=yield Jn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Sg="__sak";class NU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fue=(()=>{class t extends NU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lue(){const t=Ct();return OT(t)||wg(t)}()&&function _ae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lU(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function mae(){return function Ete(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),RU=(()=>{class t extends NU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let gue=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function pue(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function zD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class mue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=zD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function lt(){return window}function GD(){return typeof lt().WorkerGlobalScope<"u"&&"function"==typeof lt().importScripts}function qD(){return(qD=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const MU="firebaseLocalStorageDb",Ag="firebaseLocalStorage",kU="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xg(t,e){return t.transaction([Ag],e?"readwrite":"readonly").objectStore(Ag)}function WD(){const t=indexedDB.open(MU,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ag,{keyPath:kU})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(Ag)?e(r):(r.close(),yield function Eue(){const t=indexedDB.deleteDatabase(MU);return new ql(t).toPromise()}(),e(yield WD()))}))})}function PU(t,e,n){return KD.apply(this,arguments)}function KD(){return(KD=_(function*(t,e,n){const r=xg(t,!0).put({[kU]:e,value:n});return new ql(r).toPromise()})).apply(this,arguments)}function QD(){return(QD=_(function*(t,e){const n=xg(t,!1).get(e),r=yield new ql(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function OU(t,e){const n=xg(t,!0).delete(e);return new ql(n).toPromise()}const bue=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield WD()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return GD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=gue._getInstance(function wue(){return GD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function yue(){return qD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new mue(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function vue(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield WD();return yield PU(n,Sg,"1"),yield OU(n,Sg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>PU(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function Cue(t,e){return QD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>OU(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=xg(o,!1).getAll();return new ql(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();mU("rcb"),new Vl(3e4,6e4);class ib extends Nae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jue(t){return function AU(t,e){return pD.apply(this,arguments)}(t.auth,new ib(t),t.bypassAuthState)}function Hue(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function SU(t,e){return fD.apply(this,arguments)}(n,new ib(t),t.bypassAuthState)}function zue(t){return sb.apply(this,arguments)}function sb(){return(sb=_(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),function lD(t,e){return dD.apply(this,arguments)}(n,new ib(t),t.bypassAuthState)})).apply(this,arguments)}class Gue{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jue;case"linkViaPopup":case"linkViaRedirect":return zue;case"reauthViaPopup":case"reauthViaRedirect":return Hue;default:Tn(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Vl(2e3,1e4);const que="pendingRedirect",Wl=new Map;class Wue extends Gue{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=Wl.get(n.auth._key());if(!r){try{const s=(yield function Kue(t,e){return lb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Wl.set(n.auth._key(),r)}return n.bypassAuthState||Wl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function lb(){return(lb=_(function*(t,e){const n=function VU(t){return vg(que,t.config.apiKey,t.name)}(e),r=function FU(t){return Ai(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Que(t,e){Wl.set(t._key(),e)}function UU(t,e){return _b.apply(this,arguments)}function _b(){return(_b=_(function*(t,e,n=!1){const r=Dt(t),i=function To(t,e){return e?Ai(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Wue(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ece{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jU(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($U(e))}saveEventToCache(e){this.cachedEventUids.add($U(e)),this.lastProcessedEventTime=Date.now()}}function $U(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jU({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function vb(){return(vb=_(function*(t,e={}){return Ye(t,"GET","/v1/projects",e)})).apply(this,arguments)}const rce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ice=/^https?/;function wb(){return wb=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function nce(t){return vb.apply(this,arguments)}(t);for(const n of e)try{if(oce(n))return}catch{}Tn(t,"unauthorized-domain")}),wb.apply(this,arguments)}function oce(t){const e=Fl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ice.test(n))return!1;if(rce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ace=new Vl(3e4,6e4);function HU(){const t=lt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Rg=null;const lce=new Vl(5e3,15e3),dce="__/auth/iframe",hce="emulator/auth/iframe",fce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gce(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ET(e,hce):`https://${t.config.authDomain}/${dce}`,r={apiKey:e.apiKey,appName:t.name,v:is},i=pce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nl(r).slice(1)}`}function Ib(){return Ib=_(function*(t){const e=yield function cce(t){return Rg=Rg||function uce(t){return new Promise((e,n)=>{var r,i,s;function o(){HU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HU(),n(Br(t,"network-request-failed"))},timeout:ace.get()})}if(null!==(i=null===(r=lt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=lt().gapi)||void 0===s||!s.load){const a=mU("iframefcb");return lt()[a]=()=>{gapi.load?o():n(Br(t,"network-request-failed"))},VT(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Rg=null,e})}(t),Rg}(t),n=lt().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:gce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fce,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Br(t,"network-request-failed"),u=lt().setTimeout(()=>{o(a)},lce.get());function c(){lt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Ib.apply(this,arguments)}const _ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tce="__/auth/handler",Dce="emulator/auth/handler",bce=encodeURIComponent("fac");function GU(t,e,n,r,i,s){return Eb.apply(this,arguments)}function Eb(){return(Eb=_(function*(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:i};if(e instanceof cs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$I(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof zae){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${bce}=${encodeURIComponent(u)}`:"";return`${function Sce({config:t}){return t.emulator?ET(t,Dce):`https://${t.authDomain}/${Tce}`}(t)}?${Nl(a).slice(1)}${c}`})).apply(this,arguments)}const Cb="webStorageSupport",xce=class Ace{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RU,this._completeRedirectFn=UU,this._overrideRedirectResult=Que}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;os(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield GU(e,n,r,Fl(),i);return function Ece(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_ce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=sU(c)?"_blank":n),iU(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function gae(t=Ct()){var e;return wg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Cce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new zU(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new zU(d)}(e,a,zD())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function _ue(t){lt().location.href=t}(yield GU(e,n,r,Fl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(os(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function mce(t){return Ib.apply(this,arguments)}(e),i=new ece(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cb,{type:Cb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Cb];void 0!==o&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function sce(t){return wb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lU()||OT()||wg()}};var KU="@firebase/auth";class Nce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pce=e2("authIdTokenMaxAge")||300;let YU=null;const Oce=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Pce)return;const s=r?.token;YU!==s&&(YU=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Lce(t=Qp()){const e=po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Dae(t,e){const n=po(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(zp(n.getOptions(),e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:xce,persistence:[bue,fue,RU]}),r=e2("authTokenSyncURL");if(r){const s=Oce(r);(function sue(t,e,n){Fr(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function iue(t,e,n,r){Fr(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=XF("auth");return i&&function Sae(t,e,n){const r=Dt(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=vU(e),{host:o,port:a}=function Aae(t){const e=vU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wU(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:wU(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Mce(t){Yt(new Ft("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dU(t)},c=new Tae(r,i,s,u);return function bae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new Ft("auth-internal",e=>{const n=Dt(e.getProvider("auth").getImmediate());return new Nce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(KU,"0.23.2",function Rce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Fe(KU,"0.23.2","esm2017")}("Browser");class Db{constructor(e){return e}}class bb{constructor(){return ig("auth")}}const Sb=new V("angularfire2.auth-instances");function Vce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Db(r)}}const Uce={provide:bb,deps:[[new mt,Sb]]},Bce={provide:Db,useFactory:function Fce(t,e){const n=rg("auth",t,e);return n&&new Db(n)},deps:[[new mt,Sb],Io]};let $ce=(()=>{class t{constructor(){Fe("angularfire",Pl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({providers:[Bce,Uce]}),t})();function jce(t,...e){return{ngModule:$ce,providers:[{provide:Sb,useFactory:Vce(t),multi:!0,deps:[be,Pn,sg,ag,[new mt,gg],...e]}]}}const Hce=og(Lce,!0),JU="@firebase/database";let Ab="";class Gce{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Lt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:xl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qce{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ii(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Gce(e)}}catch{}return new qce},Do=eB("localStorage"),xb=eB("sessionStorage"),yu=new lo("@firebase/database"),tB=function(){let t=1;return function(){return t++}}(),nB=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Ate;n.update(e);const r=n.digest();return Vp.encodeByteArray(r)},Kl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Kl.apply(null,r):e+="object"==typeof r?Lt(r):r,e+=" "}return e};let bo=null,rB=!0;const bt=function(...t){if(!0===rB&&(rB=!1,null===bo&&!0===xb.get("logging_enabled")&&function(t,e){x(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(yu.logLevel=he.VERBOSE,bo=yu.log.bind(yu),e&&xb.set("logging_enabled",!0)):"function"==typeof t?bo=t:(bo=null,xb.remove("logging_enabled"))}(!0)),bo){const e=Kl.apply(null,t);bo(e)}},Ql=function(t){return function(...e){bt(t,...e)}},Nb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kl(...t);yu.error(e)},jr=function(...t){const e=`FIREBASE FATAL ERROR: ${Kl(...t)}`;throw yu.error(e),new Error(e)},Xt=function(...t){const e="FIREBASE WARNING: "+Kl(...t);yu.warn(e)},kg=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ls="[MIN_NAME]",Ni="[MAX_NAME]",So=function(t,e){if(t===e)return 0;if(t===ls||e===Ni)return-1;if(e===ls||t===Ni)return 1;{const n=aB(t),r=aB(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Qce=function(t,e){return t===e?0:t<e?-1:1},Yl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Lt(e))},Rb=function(t){if("object"!=typeof t||null===t)return Lt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Lt(e[r]),n+=":",n+=Rb(t[e[r]]);return n+="}",n},sB=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function St(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oB=function(t){x(!kg(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Zce=new RegExp("^-?(0*)\\d{1,10}$"),aB=function(t){if(Zce.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},vu=function(t){try{t()}catch(e){setTimeout(()=>{throw Xt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Xl=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class rle{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ile{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xt(e)}}let Jl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const hB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gB="websocket",mB="long_polling";class kb{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Do.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Do.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _B(t,e,n){let r;if(x("string"==typeof e,"typeof type must == string"),x("object"==typeof n,"typeof params must == object"),e===gB)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==mB)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function sle(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return St(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ole{constructor(){this.counters_={}}incrementCounter(e,n=1){Ii(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gte(this.counters_)}}const Pb={},Ob={};function Lb(t){const e=t.toString();return Pb[e]||(Pb[e]=new ole),Pb[e]}class ule{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ds{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ql(e),this.stats_=Lb(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),_B(n,mB,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ule(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fb((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ds.forceAllow_=!0}static forceDisallow(){ds.forceDisallow_=!0}static isAvailable(){return!(!ds.forceAllow_&&(ds.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Lt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=QF(n),i=sB(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Lt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fb.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){bt("frame writing exception"),a.stack&&bt(a.stack),bt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Og=null;typeof MozWebSocket<"u"?Og=MozWebSocket:typeof WebSocket<"u"&&(Og=WebSocket);let wu=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ql(this.connId),this.stats_=Lb(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&hB.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),_B(n,gB,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Do.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Og(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Og&&!t.forceDisallow_}static previouslyFailed(){return Do.isInMemoryStorage||!0===Do.get("previous_websocket_failure")}markConnectionHealthy(){Do.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=xl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Lt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=sB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),TB=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ds,wu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=wu&&wu.isAvailable();let i=r&&!wu.previouslyFailed();if(n.webSocketOnly&&(r||Xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class RB{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ql("c:"+this.id+":"),this.transportManager_=new TB(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yl("t",e),r=Yl("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yl("t",e),r=Yl("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yl("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Nb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Do.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class MB{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class kB{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Lg extends kB{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!VI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Lg}getInitialEvent(e){return x("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ve{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function fe(){return new ve("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hs(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ve(t.pieces_,e)}function Ub(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function LB(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ve(e,0)}function je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ve)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function fn(t,e){const n=re(t),r=re(e);if(null===n)return e;if(n===r)return fn(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bb(t,e){if(hs(t)!==hs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hs(t)>hs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Rle{constructor(e,n){this.errorPrefix_=n,this.parts_=Zl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qp(this.parts_[r]);FB(this)}}function FB(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ao(t))}function Ao(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class $b extends kB{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $b}getInitialEvent(e){return x("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ed=1e3;let Vg,xo=(()=>{class t extends MB{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ed,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$b.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Lg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Lt(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new cu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Ii(n,"w")){const i=lu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=jp(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=jp(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Lt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Nb("Unrecognized action received from server: "+Lt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ed),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){x(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new RB(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{Xt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&Xt(f),l())}}})()}interrupt(n){bt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){bt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$I(this.interruptReasons_)&&(this.reconnectDelay_=ed,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>Rb(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ve(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){bt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){bt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Ab.replace(/\./g,"-")]=1,VI()?n["framework.cordova"]=1:n2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Lg.getInstance().currentlyOnline();return $I(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}class Fg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(ls,e),i=new se(ls,n);return 0!==this.compare(r,i)}minPost(){return se.MIN}}class BB extends Fg{static get __EMPTY_NODE(){return Vg}static set __EMPTY_NODE(e){Vg=e}compare(e,n){return So(e.name,n.name)}isDefinedOn(e){throw uu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Ni,Vg)}makePost(e,n){return x("string"==typeof e,"KeyIndex indexValue must always be a string."),new se(e,Vg)}toString(){return".key"}}const Hr=new BB;class Ug{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Hb,pr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Dn.EMPTY_NODE,this.right=o??Dn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Dn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Dn{constructor(e,n=Dn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pr.BLACK,null,null))}remove(e){return new Dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ug(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ug(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ug(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ug(this.root_,null,this.comparator_,!0,e)}}function Ule(t,e){return So(t.name,e.name)}function jb(t,e){return So(t,e)}Dn.EMPTY_NODE=new class Vle{copy(e,n,r,i,s){return this}insert(e,n,r){return new pr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $B=function(t){return"number"==typeof t?"number:"+oB(t):"string:"+t},jB=function(t){if(t.isLeafNode()){const e=t.val();x("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ii(e,".sv"),"Priority must be a string or number.")}else x(t===Hb||t.isEmpty(),"priority of unexpected type.");x(t===Hb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let HB,zB,GB,Iu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jB(this.priorityNode_)}static set __childrenNodeConstructor(n){HB=n}static get __childrenNodeConstructor(){return HB}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ie(n)?this:".priority"===re(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=re(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(x(".priority"!==i||1===hs(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$B(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?oB(this.value_):this.value_,this.lazyHash_=nB(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ke=new class Hle extends Fg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?So(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Ni,new Iu("[PRIORITY-POST]",GB))}makePost(e,n){const r=zB(e);return new se(n,new Iu("[PRIORITY-POST]",r))}toString(){return".priority"}},zle=Math.log(2);class Gle{constructor(e){this.count=parseInt(Math.log(e+1)/zle,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bg=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new pr(h,d.node,pr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new pr(h,d.node,pr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const m=d-p,w=d;d-=p;const y=i(m+1,w),T=t[m],k=n?n(T):T;f(new pr(k,T.node,g,null,y))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,pr.BLACK):(h(m,pr.BLACK),h(m,pr.RED))}return l}(new Gle(t.length));return new Dn(r||e,a)};let zb;const Eu={};class Ri{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(Eu&&ke,"ChildrenNode.ts has not been loaded"),zb=zb||new Ri({".priority":Eu},{".priority":ke}),zb}get(e){const n=lu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dn?n:null}hasIndex(e){return Ii(this.indexSet_,e.toString())}addIndex(e,n){x(e!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Bg(r,e.getCompare()):Eu;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new Ri(l,c)}addToIndexes(e,n){const r=Hp(this.indexes_,(i,s)=>{const o=lu(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===Eu){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(se.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Bg(a,o.getCompare())}return Eu}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new se(e.name,a))),u.insert(e,e.node)}});return new Ri(r,this.indexSet_)}removeFromIndexes(e,n){const r=Hp(this.indexes_,i=>{if(i===Eu)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new Ri(r,this.indexSet_)}}let td,Z=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jB(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return td||(td=new t(new Dn(jb),null,Ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||td}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?td:r}}getChild(n){const r=re(n);return null===r?this:this.getImmediateChild(r).getChild(xe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new se(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?td:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=re(n);if(null===i)return r;{x(".priority"!==re(n)||1===hs(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(xe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(ke,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+$B(this.getPriority().val())+":"),this.forEachChild(ke,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":nB(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new se(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new se(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new se(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===nd?-1:0}withIndex(n){if(n===Hr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Hr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ke),s=r.getIterator(ke);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Hr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const nd=new class qle extends Z{constructor(){super(new Dn(jb),Z.EMPTY_NODE,Ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(se,{MIN:{value:new se(ls,Z.EMPTY_NODE)},MAX:{value:new se(Ni,nd)}}),BB.__EMPTY_NODE=Z.EMPTY_NODE,Iu.__childrenNodeConstructor=Z,function Ble(t){Hb=t}(nd),function jle(t){GB=t}(nd);const Wle=!0;function We(t,e=null){if(null===t)return Z.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),x(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Iu(t,We(e));if(t instanceof Array||!Wle){let n=Z.EMPTY_NODE;return St(t,(r,i)=>{if(Ii(t,r)&&"."!==r.substring(0,1)){const s=We(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(We(e))}{const n=[];let r=!1;if(St(t,(o,a)=>{if("."!==o.substring(0,1)){const u=We(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new se(o,u)))}}),0===n.length)return Z.EMPTY_NODE;const s=Bg(n,Ule,o=>o.name,jb);if(r){const o=Bg(n,ke.getCompare());return new Z(s,We(e),new Ri({".priority":o},{".priority":ke}))}return new Z(s,We(e),Ri.Default)}}!function $le(t){zB=t}(We);class Gb extends Fg{constructor(e){super(),this.indexPath_=e,x(!ie(e)&&".priority"!==re(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?So(e.name,n.name):s}makePost(e,n){const r=We(e),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,nd);return new se(Ni,e)}toString(){return Zl(this.indexPath_,0).join("/")}}const qb=new class Kle extends Fg{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?So(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=We(e);return new se(n,r)}toString(){return".value"}};function id(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Kb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ls}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new Kb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WB(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===qb?n="$value":t.index_===Hr?n="$key":(x(t.index_ instanceof Gb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Lt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Lt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Lt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Lt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Lt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function KB(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}class jg extends MB{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ql("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=jg.getListenId_(e,r),a={};this.listens_[o]=a;const u=WB(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),lu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=jg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=WB(e._queryParams),r=e._path.toString(),i=new cu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=xl(a.responseText)}catch{Xt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Xt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class nde{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Hg(){return{value:null,children:new Map}}function Tu(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,Hg()),Tu(t.children.get(r),e=xe(e),n)}}function Jb(t,e,n){null!==t.value?n(e,t.value):function rde(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Jb(i,new ve(e.toString()+"/"+r),n)})}class ide{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&St(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class ade{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ide(e);const r=1e4+2e4*Math.random();Xl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;St(e,(i,s)=>{s>0&&Ii(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Xl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(zr||{});function tS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class zg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ie(this.path)){if(null!=this.affectedTree.value)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(e));return new zg(fe(),n,this.revert)}}return x(re(this.path)===e,"operationForChild called for unrelated child."),new zg(xe(this.path),this.affectedTree,this.revert)}}class No{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zr.OVERWRITE}operationForChild(e){return ie(this.path)?new No(this.source,fe(),this.snap.getImmediateChild(e)):new No(this.source,xe(this.path),this.snap)}}class Du{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zr.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new ve(e));return n.isEmpty()?null:n.value?new No(this.source,fe(),n.value):new Du(this.source,fe(),n)}return x(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Du(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function ad(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function dde(t,e,n){if(null==e.childName||null==n.childName)throw uu("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function lde(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function Gg(t,e){return{eventCache:t,serverCache:e}}function ud(t,e,n,r){return Gg(new fs(e,n,r),t.serverCache)}function YB(t,e,n,r){return Gg(t.eventCache,new fs(e,n,r))}function qg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ro(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let nS;class Pe{constructor(e,n=(()=>(nS||(nS=new Dn(Qce)),nS))()){this.value=e,this.children=n}static fromObject(e){let n=new Pe(null);return St(e,(r,i)=>{n=n.set(new ve(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:fe(),value:this.value};if(ie(e))return null;{const r=re(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(xe(e),n);return null!=s?{path:je(new ve(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=re(e),r=this.children.get(n);return null!==r?r.subtree(xe(e)):new Pe(null)}}set(e,n){if(ie(e))return new Pe(n,this.children);{const r=re(e),s=(this.children.get(r)||new Pe(null)).set(xe(e),n),o=this.children.insert(r,s);return new Pe(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const i=r.remove(xe(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Pe(null):new Pe(this.value,s)}return this}}get(e){if(ie(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(xe(e)):null}}setTree(e,n){if(ie(e))return n;{const r=re(e),s=(this.children.get(r)||new Pe(null)).setTree(xe(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Pe(this.value,o)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ie(e))return null;{const s=re(e),o=this.children.get(s);return o?o.findOnPath_(xe(e),je(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=re(e),s=this.children.get(i);return s?s.foreachOnPath_(xe(e),je(n,i),r):new Pe(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class gr{constructor(e){this.writeTree_=e}static empty(){return new gr(new Pe(null))}}function cd(t,e,n){if(ie(e))return new gr(new Pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=fn(i,e);return s=s.updateChild(o,n),new gr(t.writeTree_.set(i,s))}{const i=new Pe(n),s=t.writeTree_.setTree(e,i);return new gr(s)}}}function rS(t,e,n){let r=t;return St(n,(i,s)=>{r=cd(r,je(e,i),s)}),r}function XB(t,e){if(ie(e))return gr.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new gr(n)}}function iS(t,e){return null!=Mo(t,e)}function Mo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(fn(n.path,e)):null}function JB(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new se(r,i.value))}),e}function ps(t,e){if(ie(e))return t;{const n=Mo(t,e);return new gr(null!=n?new Pe(n):t.writeTree_.subtree(e))}}function sS(t){return t.writeTree_.isEmpty()}function bu(t,e){return ZB(fe(),t.writeTree_,e)}function ZB(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(x(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=ZB(je(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(je(t,".priority"),r)),n}}function Wg(t,e){return i$(e,t)}function _de(t,e){if(t.snap)return Zn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zn(je(t.path,n),e))return!0;return!1}function vde(t){return t.visible}function e$(t,e,n){let r=gr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Zn(n,o)?(a=fn(n,o),r=cd(r,a,s.snap)):Zn(o,n)&&(a=fn(o,n),r=cd(r,fe(),s.snap.getChild(a)));else{if(!s.children)throw uu("WriteRecord should have .snap or .children");if(Zn(n,o))a=fn(n,o),r=rS(r,a,s.children);else if(Zn(o,n))if(a=fn(o,n),ie(a))r=rS(r,fe(),s.children);else{const u=lu(s.children,re(a));if(u){const c=u.getChild(xe(a));r=cd(r,fe(),c)}}}}}return r}function t$(t,e,n,r,i){if(r||i){const s=ps(t.visibleWrites,e);return!i&&sS(s)?n:i||null!=n||iS(s,fe())?bu(e$(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Zn(c.path,e)||Zn(e,c.path))},e),n||Z.EMPTY_NODE):null}{const s=Mo(t.visibleWrites,e);if(null!=s)return s;{const o=ps(t.visibleWrites,e);return sS(o)?n:null!=n||iS(o,fe())?bu(o,n||Z.EMPTY_NODE):null}}}function Kg(t,e,n,r){return t$(t.writeTree,t.treePath,e,n,r)}function oS(t,e){return function wde(t,e,n){let r=Z.EMPTY_NODE;const i=Mo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ps(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const u=bu(ps(s,new ve(o)),a);r=r.updateImmediateChild(o,u)}),JB(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return JB(ps(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function n$(t,e,n,r){return function Ide(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=je(e,n);if(iS(t.visibleWrites,s))return null;{const o=ps(t.visibleWrites,s);return sS(o)?i.getChild(n):bu(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Qg(t,e){return function Cde(t,e){return Mo(t.visibleWrites,e)}(t.writeTree,je(t.treePath,e))}function aS(t,e,n){return function Ede(t,e,n,r){const i=je(e,n),s=Mo(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?bu(ps(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function r$(t,e){return i$(je(t.treePath,e),t.writeTree)}function i$(t,e){return{treePath:t,writeTree:e}}class Sde{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),x(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,id(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function rd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Cu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw uu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,id(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const s$=new class Ade{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class uS{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ro(this.viewCache_),s=function bde(t,e,n,r,i,s){return function Tde(t,e,n,r,i,s,o){let a;const u=ps(t.visibleWrites,e),c=Mo(u,fe());if(null!=c)a=c;else{if(null==n)return[];a=bu(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function o$(t,e,n,r,i,s){const o=e.eventCache;if(null!=Qg(r,n))return e;{let a,u;if(ie(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ro(e),d=oS(r,c instanceof Z?c:Z.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Kg(r,Ro(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=re(n);if(".priority"===c){x(1===hs(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=n$(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=xe(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=n$(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=aS(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return ud(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function Yg(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(ie(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=re(n);if(!u.isCompleteForPath(n)&&hs(n)>1)return e;const p=xe(n),m=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),m):l.updateChild(u.getNode(),f,m,p,s$,null)}const d=YB(e,c,u.isFullyInitialized()||ie(n),l.filtersNodes());return o$(t,d,n,i,new uS(i,d,s),a)}function cS(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new uS(i,e,s);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=ud(e,c,!0,t.filter.filtersNodes());else{const d=re(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=ud(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=xe(n),f=a.getNode().getImmediateChild(d);let p;if(ie(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===Ub(h)&&g.getChild(LB(h)).isEmpty()?g:g.updateChild(h,r):Z.EMPTY_NODE}u=f.equals(p)?e:ud(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function a$(t,e){return t.eventCache.isCompleteForChild(e)}function u$(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lS(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=ie(n)?r:new Pe(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=u$(0,e.serverCache.getNode().getImmediateChild(d),h);u=Yg(t,u,new ve(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=u$(0,e.serverCache.getNode().getImmediateChild(d),h);u=Yg(t,u,new ve(d),g,i,s,o,a)}}),u}function Bde(t,e){const n=Ro(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function d$(t,e,n,r){e.type===zr.MERGE&&null!==e.source.queryId&&(x(Ro(t.viewCache_),"We should always have a full cache before handling merges"),x(qg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Rde(t,e,n,r,i){const s=new Sde;let o,a;if(n.type===zr.OVERWRITE){const c=n;c.source.fromUser?o=cS(t,e,c.path,c.snap,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),o=Yg(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===zr.MERGE){const c=n;c.source.fromUser?o=function kde(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=je(n,u);a$(e,re(l))&&(a=cS(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=je(n,u);a$(e,re(l))||(a=cS(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=lS(t,e,c.path,c.children,r,i,a,s))}else if(n.type===zr.ACK_USER_WRITE){const c=n;o=c.revert?function Lde(t,e,n,r,i,s){let o;if(null!=Qg(r,n))return e;{const a=new uS(r,e,i),u=e.eventCache.getNode();let c;if(ie(n)||".priority"===re(n)){let l;if(e.serverCache.isFullyInitialized())l=Kg(r,Ro(e));else{const d=e.serverCache.getNode();x(d instanceof Z,"serverChildren would be complete if leaf node"),l=oS(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=re(n);let d=aS(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,xe(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,Z.EMPTY_NODE,xe(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Kg(r,Ro(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Qg(r,fe()),ud(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function Pde(t,e,n,r,i,s,o){if(null!=Qg(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ie(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Yg(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ie(n)){let c=new Pe(null);return u.getNode().forEachChild(Hr,(l,d)=>{c=c.set(new ve(l),d)}),lS(t,e,n,c,i,s,a,o)}return e}{let c=new Pe(null);return r.foreach((l,d)=>{const h=je(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),lS(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==zr.LISTEN_COMPLETE)throw uu("Unknown operation type: "+n.type);o=function Ode(t,e,n,r,i){const s=e.serverCache;return o$(t,YB(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered()),n,r,s$,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function Mde(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=qg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function qB(t){return{type:"value",snapshotNode:t}}(qg(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function Nde(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function h$(t,e,n,r){return function cde(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Qle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),ad(t,i,"child_removed",e,r,n),ad(t,i,"child_added",e,r,n),ad(t,i,"child_moved",s,r,n),ad(t,i,"child_changed",e,r,n),ad(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Xg,Zg;function dS(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return x(null!=s,"SyncTree gave us an op for an invalid query."),d$(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(d$(o,e,n,r));return s}}function gs(t,e){let n=null;for(const r of t.views.values())n=n||Bde(r,e);return n}class y${constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=function Dde(){return{visibleWrites:gr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hS(t,e,n,r,i){return function fde(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=cd(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Su(t,new No({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function _s(t,e,n=!1){const r=function gde(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function mde(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_de(a,r.path)?i=!1:Zn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function yde(t){t.visibleWrites=e$(t.allWrites,vde,fe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=XB(t.visibleWrites,r.path):St(r.children,u=>{t.visibleWrites=XB(t.visibleWrites,je(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new Pe(null);return null!=r.snap?s=s.set(fe(),!0):St(r.children,o=>{s=s.set(new ve(o),!0)}),Su(t,new zg(r.path,s,n))}return[]}function ld(t,e,n){return Su(t,new No({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function tm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=gs(a,fn(o,e));if(c)return c});return t$(i,e,s,n,!0)}function Su(t,e){return w$(e,t.syncPointTree_,null,Wg(t.pendingWriteTree_,fe()))}function w$(t,e,n,r){if(ie(t.path))return I$(t,e,n,r);{const i=e.get(fe());null==n&&null!=i&&(n=gs(i,fe()));let s=[];const o=re(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=r$(r,o);s=s.concat(w$(a,u,c,l))}return i&&(s=s.concat(dS(i,t,r,n))),s}}function I$(t,e,n,r){const i=e.get(fe());null==n&&null!=i&&(n=gs(i,fe()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=r$(r,o),l=t.operationForChild(o);l&&(s=s.concat(I$(l,a,u,c)))}),i&&(s=s.concat(dS(i,t,r,n))),s}function pS(t,e){return t.tagToQueryMap.get(e)}function gS(t){const e=t.indexOf("$");return x(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ve(t.substr(0,e))}}function mS(t,e,n){const r=t.syncPointTree_.get(e);return x(r,"Missing sync point for query tag that we're tracking"),dS(r,n,Wg(t.pendingWriteTree_,e),null)}class _S{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _S(n)}node(){return this.node_}}class yS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new yS(this.syncTree_,n)}node(){return tm(this.syncTree_,this.path_)}}const ahe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},C$=function(t,e,n){return t&&"object"==typeof t?(x(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?uhe(t[".sv"],e,n):"object"==typeof t[".sv"]?che(t[".sv"],e):void x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},uhe=function(t,e,n){if("timestamp"===t)return n.timestamp;x(!1,"Unexpected server value: "+t)},che=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},T$=function(t,e,n,r){return wS(e,new yS(n,t),r)},vS=function(t,e,n){return wS(t,new _S(e),n)};function wS(t,e,n){const r=t.getPriority().val(),i=C$(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=C$(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Iu(a,We(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Iu(i))),o.forEachChild(ke,(a,u)=>{const c=wS(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class IS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function rm(t,e){let n=e instanceof ve?e:new ve(e),r=t,i=re(n);for(;null!==i;){const s=lu(r.node.children,i)||{children:{},childCount:0};r=new IS(i,r,s),n=xe(n),i=re(n)}return r}function ko(t){return t.node.value}function ES(t,e){t.node.value=e,CS(t)}function D$(t){return t.node.childCount>0}function im(t,e){St(t.node.children,(n,r)=>{e(new IS(n,t,r))})}function b$(t,e,n,r){n&&!r&&e(t),im(t,i=>{b$(i,e,!0,r)}),n&&r&&e(t)}function fd(t){return new ve(null===t.parent?t.name:fd(t.parent)+"/"+t.name)}function CS(t){null!==t.parent&&function hhe(t,e,n){const r=function lhe(t){return void 0===ko(t)&&!D$(t)}(n),i=Ii(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,CS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,CS(t))}(t.parent,t.name,t)}const fhe=/[\[\].#$\/\u0000-\u001F\u007F]/,phe=/[\[\].#$\u0000-\u001F\u007F]/,TS=10485760,sm=function(t){return"string"==typeof t&&0!==t.length&&!fhe.test(t)},gd=function(t,e,n){const r=n instanceof ve?new Rle(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ao(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ao(r)+" with contents = "+e.toString());if(kg(e))throw new Error(t+"contains "+e.toString()+" "+Ao(r));if("string"==typeof e&&e.length>TS/3&&qp(e)>TS)throw new Error(t+"contains a string greater than "+TS+" utf8 bytes "+Ao(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(St(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!sm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ao(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mle(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qp(e),FB(t)})(r,o),gd(t,a,r),function kle(t){const e=t.parts_.pop();t.byteLength_-=qp(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ao(r)+" in addition to actual children.")}},x$=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!sm(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!phe.test(t)}(t)}(n))throw new Error(function Gp(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class yhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fn(t,e,n){(function om(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!Bb(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function R$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(vhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Zn(r,e)||Zn(e,r))}function vhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();bo&&bt("event: "+n.toString()),vu(r)}}}const whe=25;class Ihe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hg(),this.transactionQueueTree_=new IS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k$(t){const n=t.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function _d(t){return ahe({timestamp:k$(t)})}function P$(t,e,n,r,i){t.dataUpdateCount++;const s=new ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Hp(n,c=>We(c));o=function the(t,e,n,r){const i=pS(t,r);if(i){const s=gS(i),o=s.path,a=s.queryId,u=fn(o,e),c=Pe.fromObject(n);return mS(t,o,new Du(tS(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=We(n);o=function v$(t,e,n,r){const i=pS(t,r);if(null!=i){const s=gS(i),o=s.path,a=s.queryId,u=fn(o,e);return mS(t,o,new No(tS(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=Hp(n,c=>We(c));o=function Jde(t,e,n){const r=Pe.fromObject(n);return Su(t,new Du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=We(n);o=ld(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=xu(t,s)),Fn(t.eventQueue_,a,o)}function O$(t,e){SS(t,"connected",e),!1===e&&function bhe(t){Au(t,"onDisconnectEvents");const e=_d(t),n=Hg();Jb(t.onDisconnect_,fe(),(i,s)=>{const o=T$(i,s,t.serverSyncTree_,e);Tu(n,i,o)});let r=[];Jb(n,fe(),(i,s)=>{r=r.concat(ld(t.serverSyncTree_,i,s));const o=function RS(t,e){const n=fd(V$(t,e)),r=rm(t.transactionQueueTree_,e);return function dhe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{MS(t,i)}),MS(t,r),b$(r,i=>{MS(t,i)}),n}(t,i);xu(t,o)}),t.onDisconnect_=Hg(),Fn(t.eventQueue_,fe(),r)}(t)}function SS(t,e,n){const r=new ve("/.info/"+e),i=We(n);t.infoData_.updateSnapshot(r,i);const s=ld(t.infoSyncTree_,r,i);Fn(t.eventQueue_,r,s)}function am(t){return t.nextWriteId_++}function Au(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bt(n,...e)}function NS(t,e,n){return tm(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function um(t,e=t.transactionQueueTree_){if(e||cm(t,e),ko(e)){const n=U$(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function khe(t,e,n){const r=n.map(c=>c.currentWriteId),i=NS(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];x(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=fn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Au(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(_s(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();cm(t,rm(t.transactionQueueTree_,e)),um(t,t.transactionQueueTree_),Fn(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)vu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Xt("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}xu(t,e)}},o)}(t,fd(e),n)}else D$(e)&&im(e,n=>{um(t,n)})}function xu(t,e){const n=V$(t,e),r=fd(n);return function Phe(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=fn(n,u.path);let d,l=!1;if(x(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(_s(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=whe)l=!0,d="maxretry",i=i.concat(_s(t.serverSyncTree_,u.currentWriteId,!0));else{const h=NS(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){gd("transaction failed: Data returned ",f,u.path);let p=We(f);"object"==typeof f&&null!=f&&Ii(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,w=_d(t),y=vS(p,h,w);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=am(t),o.splice(o.indexOf(m),1),i=i.concat(hS(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(_s(t.serverSyncTree_,m,!0))}else l=!0,d="nodata",i=i.concat(_s(t.serverSyncTree_,u.currentWriteId,!0))}Fn(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}cm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vu(r[a]);um(t,t.transactionQueueTree_)}(t,U$(t,n),r),r}function V$(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);null!==n&&void 0===ko(r);)r=rm(r,n),n=re(e=xe(e));return r}function U$(t,e){const n=[];return B$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function B$(t,e,n){const r=ko(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);im(e,i=>{B$(t,i,n)})}function cm(t,e){const n=ko(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ES(e,n.length>0?n:void 0)}im(e,r=>{cm(t,r)})}function MS(t,e){const n=ko(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_s(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ES(e,void 0):n.length=s+1,Fn(t.eventQueue_,fd(e),i);for(let o=0;o<r.length;o++)vu(r[o])}}const kS=function(t,e){const n=Fhe(t),r=n.namespace;return"firebase.com"===n.domain&&jr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&jr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ve(n.pathString)}},Fhe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function Ohe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function Lhe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Vn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:Ub(this._path)}get ref(){return new mr(this._repo,this._path)}get _queryIdentifier(){const e=KB(this._queryParams),n=Rb(e);return"{}"===n?"default":n}get _queryObject(){return KB(this._queryParams)}isEqual(e){if(!((e=Fr(e))instanceof Vn))return!1;const n=this._repo===e._repo,r=Bb(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xle(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class mr extends Vn{constructor(e,n){super(e,n,new Kb,!1)}get parent(){const e=LB(this._path);return null===e?null:new mr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Hde(t){x(!Xg,"__referenceConstructor has already been defined"),Xg=t})(mr),function Kde(t){x(!Zg,"__referenceConstructor has already been defined"),Zg=t}(mr);const OS={};class rfe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ehe(t,e,n){if(t.stats_=Lb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new jg(t.repoInfo_,(r,i,s,o)=>{P$(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>O$(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Lt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xo(t.repoInfo_,e,(r,i,s,o)=>{P$(t,r,i,s,o)},r=>{O$(t,r)},r=>{!function Che(t,e){St(e,(n,r)=>{SS(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function ale(t,e){const n=t.toString();return Ob[n]||(Ob[n]=e()),Ob[n]}(t.repoInfo_,()=>new ade(t.stats_,t.server_)),t.infoData_=new nde,t.infoSyncTree_=new y$({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=ld(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),SS(t,"connected",!1),t.serverSyncTree_=new y$({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);Fn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mr(this._repo,fe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function efe(t,e){const n=OS[e];(!n||n[t.key]!==t)&&jr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function F$(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&jr("Cannot call "+e+" on a deleted database.")}}function ife(t=Qp(),e){const n=po(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=JF("database");r&&function sfe(t,e,n,r={}){(t=Fr(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&jr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Jl(Jl.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:t2(r.mockUserToken,t.app.options.projectId);s=new Jl(o)}!function Jhe(t,e,n,r){t.repoInfo_=new kb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function ofe(t){(function zce(t){Ab=t})(is),Yt(new Ft("database",(e,{instanceIdentifier:n})=>function Zhe(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||jr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=kS(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=kS(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Jl(Jl.OWNER):new ile(t.name,t.options,e);x$("Invalid Firebase Database URL",o),ie(o.path)||jr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function tfe(t,e,n,r){let i=OS[e.name];i||(i={},OS[e.name]=i);let s=i[t.toURLString()];return s&&jr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ihe(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new rle(t.name,n));return new rfe(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Fe(JU,"0.14.4",t),Fe(JU,"0.14.4","esm2017")}();class LS{constructor(e){return e}}const Q$="database",FS=new V("angularfire2.database-instances");function dfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new LS(r)}}const hfe={provide:class cfe{constructor(){return ig(Q$)}},deps:[[new mt,FS]]},ffe={provide:LS,useFactory:function lfe(t,e){const n=rg(Q$,t,e);return n&&new LS(n)},deps:[[new mt,FS],Io]};let pfe=(()=>{class t{constructor(){Fe("angularfire",Pl.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({providers:[ffe,hfe]}),t})();function gfe(t,...e){return{ngModule:pfe,providers:[{provide:FS,useFactory:dfe(t),multi:!0,deps:[be,Pn,sg,ag,[new mt,bb],[new mt,gg],...e]}]}}const mfe=og(ife,!0);var R,_fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={},VS=VS||{},Q=_fe||self;function fm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var US="closure_uid_"+(1e9*Math.random()>>>0),vfe=0;function wfe(t,e,n){return t.call.apply(t.bind,arguments)}function Ife(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wfe:Ife).apply(null,arguments)}function pm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ws(){this.s=this.s,this.o=this.o}ws.prototype.s=!1,ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yfe(t){Object.prototype.hasOwnProperty.call(t,US)&&t[US]||(t[US]=++vfe)}(this)},ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function BS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function X$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var Cfe=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Id(t){return/^[\s\xa0]*$/.test(t)}function gm(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return-1!=gm().indexOf(t)}function $S(t){return $S[" "](t),t}$S[" "]=function(){};var HS,t,Dfe=Wr("Opera"),Ru=Wr("Trident")||Wr("MSIE"),J$=Wr("Edge"),jS=J$||Ru,Z$=Wr("Gecko")&&!(-1!=gm().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),bfe=-1!=gm().toLowerCase().indexOf("webkit")&&!Wr("Edge");function ej(){var t=Q.document;return t?t.documentMode:void 0}e:{var zS="",GS=(t=gm(),Z$?/rv:([^\);]+)(\)|;)/.exec(t):J$?/Edge\/([\d\.]+)/.exec(t):Ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bfe?/WebKit\/(\S+)/.exec(t):Dfe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(GS&&(zS=GS?GS[1]:""),Ru){var qS=ej();if(null!=qS&&qS>parseFloat(zS)){HS=String(qS);break e}}HS=zS}var Sfe=Q.document&&Ru&&(ej()||parseInt(HS,10))||void 0;function Ed(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Z$){e:{try{$S(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Afe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ed.$.h.call(this)}}At(Ed,Zt);var Afe={2:"touch",3:"pen",4:"mouse"};Ed.prototype.h=function(){Ed.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cd="closure_listenable_"+(1e6*Math.random()|0),xfe=0;function Nfe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xfe,this.fa=this.ia=!1}function mm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function KS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nj(t){const e={};for(const n in t)e[n]=t[n];return e}const rj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ij(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rj.length;s++)n=rj[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _m(t){this.src=t,this.g={},this.h=0}function QS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Y$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function YS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}_m.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=YS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Nfe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var XS="closure_lm_"+(1e6*Math.random()|0),JS={};function sj(t,e,n,r,i){if(r&&r.once)return aj(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sj(t,e[s],n,r,i);return null}return n=n0(n),t&&t[Cd]?t.O(e,n,wd(r)?!!r.capture:!!r,i):oj(t,e,n,!1,r,i)}function oj(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wd(i)?!!i.capture:!!i,a=e0(t);if(a||(t[XS]=a=new _m(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Mfe(){const e=kfe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cfe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cj(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aj(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aj(t,e[s],n,r,i);return null}return n=n0(n),t&&t[Cd]?t.P(e,n,wd(r)?!!r.capture:!!r,i):oj(t,e,n,!0,r,i)}function uj(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uj(t,e[s],n,r,i);else r=wd(r)?!!r.capture:!!r,n=n0(n),t&&t[Cd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=YS(s=t.g[e],n,r,i))&&(mm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=e0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=YS(e,n,r,i)),(n=-1<t?e[t]:null)&&ZS(n))}function ZS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Cd])QS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cj(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=e0(e))?(QS(n,t),0==n.h&&(n.src=null,e[XS]=null)):mm(t)}}}function cj(t){return t in JS?JS[t]:JS[t]="on"+t}function kfe(t,e){if(t.fa)t=!0;else{e=new Ed(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ZS(t),t=n.call(r,e)}return t}function e0(t){return(t=t[XS])instanceof _m?t:null}var t0="__closure_events_fn_"+(1e9*Math.random()>>>0);function n0(t){return"function"==typeof t?t:(t[t0]||(t[t0]=function(e){return t.handleEvent(e)}),t[t0])}function xt(){ws.call(this),this.i=new _m(this),this.S=this,this.J=null}function Bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;ij(e=new Zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ym(o,r,!0,e)&&i}if(i=ym(o=e.g=t,r,!0,e)&&i,i=ym(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ym(o=e.g=n[s],r,!1,e)&&i}function ym(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&QS(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(xt,ws),xt.prototype[Cd]=!0,xt.prototype.removeEventListener=function(t,e,n,r){uj(this,t,e,n,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mm(n[r]);delete t.g[e],t.h--}}this.J=null},xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var r0=Q.JSON.stringify;function Ofe(){var t=s0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lj=new class Pfe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ffe,t=>t.reset());class Ffe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vfe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ufe(t){Q.setTimeout(()=>{throw t},0)}let Td,Dd=!1,s0=new class Lfe{constructor(){this.h=this.g=null}add(e,n){const r=lj.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dj=()=>{const t=Q.Promise.resolve(void 0);Td=()=>{t.then(Bfe)}};var Bfe=()=>{for(var t;t=Ofe();){try{t.h.call(t.g)}catch(n){Ufe(n)}var e=lj;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dd=!1};function vm(t,e){xt.call(this),this.h=t||1,this.g=e||Q,this.j=Jt(this.qb,this),this.l=Date.now()}function o0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function a0(t,e,n){if("function"==typeof t)n&&(t=Jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function hj(t){t.g=a0(()=>{t.g=null,t.i&&(t.i=!1,hj(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}At(vm,xt),(R=vm.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bt(this,"tick"),this.ga&&(o0(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){vm.$.N.call(this),o0(this),delete this.g};class $fe extends ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hj(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bd(t){ws.call(this),this.h=t,this.g={}}At(bd,ws);var fj=[];function pj(t,e,n,r){Array.isArray(n)||(n&&(fj[0]=n.toString()),n=fj);for(var i=0;i<n.length;i++){var s=sj(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gj(t){KS(t.g,function(e,n){this.g.hasOwnProperty(n)&&ZS(e)},t),t.g={}}function wm(){this.g=!0}function Mu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return r0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bd.prototype.N=function(){bd.$.N.call(this),gj(this)},bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wm.prototype.Ea=function(){this.g=!1},wm.prototype.info=function(){};var Oo={},mj=null;function Im(){return mj=mj||new xt}function _j(t){Zt.call(this,Oo.Ta,t)}function Sd(t){const e=Im();Bt(e,new _j(e))}function yj(t,e){Zt.call(this,Oo.STAT_EVENT,t),this.stat=e}function pn(t){const e=Im();Bt(e,new yj(e,t))}function vj(t,e){Zt.call(this,Oo.Ua,t),this.size=e}function Ad(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Oo.Ta="serverreachability",At(_j,Zt),Oo.STAT_EVENT="statevent",At(yj,Zt),Oo.Ua="timingevent",At(vj,Zt);var Em={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function u0(){}function Ej(){}u0.prototype.h=null;var d0,xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function c0(){Zt.call(this,"d")}function l0(){Zt.call(this,"c")}function Cm(){}function Nd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bd(this),this.P=qfe,this.V=new vm(t=jS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cj}function Cj(){this.i=null,this.g="",this.h=!1}At(c0,Zt),At(l0,Zt),At(Cm,u0),Cm.prototype.g=function(){return new XMLHttpRequest},Cm.prototype.i=function(){return{}},d0=new Cm;var qfe=45e3,h0={},Tm={};function f0(t,e,n){t.L=1,t.v=Am(Mi(e)),t.s=n,t.S=!0,Tj(t,null)}function Tj(t,e){t.G=Date.now(),Rd(t),t.A=Mi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Pj(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Cj,t.g=iH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $fe(Jt(t.Pa,t,t.g),t.O)),pj(t.U,t.g,"readystatechange",t.nb),e=t.I?nj(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sd(),function jfe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Dj(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function bj(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wfe(t,n),i==Tm){4==e&&(t.o=4,pn(14),r=!1),Mu(t.j,t.m,null,"[Incomplete Response]");break}if(i==h0){t.o=4,pn(15),Mu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Mu(t.j,t.m,i,null),p0(t,i)}Dj(t)&&i!=Tm&&i!=h0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),I0(e),e.M=!0,pn(11))):(Mu(t.j,t.m,n,"[Invalid Chunked Response]"),Lo(t),Md(t))}function Wfe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Tm:(n=Number(e.substring(n,r)),isNaN(n)?h0:(r+=1)+n>e.length?Tm:(e=e.slice(r,r+n),t.C=r+n,e))}function Rd(t){t.Y=Date.now()+t.P,Sj(t,t.P)}function Sj(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ad(Jt(t.lb,t),e)}function Dm(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function Md(t){0==t.l.H||t.J||eH(t.l,t)}function Lo(t){Dm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,o0(t.V),gj(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function p0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||g0(n.i,t)))if(!t.K&&g0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Pm(n),Mm(n)}w0(n),pn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ad(Jt(n.ib,n),6e3));if(1>=Fj(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vo(n,11)}else if((t.K||n.g==t)&&Pm(n),!Id(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(m0(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ve(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=rH(r,r.J?r.pa:null,r.Y),o.K){Vj(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Dm(a),Rd(a)),r.g=o}else Jj(r);0<n.j.length&&km(n)}else"stop"!=c[0]&&"close"!=c[0]||Vo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Vo(n,7):v0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Sd()}catch{}}function Aj(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(fm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qfe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kfe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(fm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=Nd.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==Kr(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=Kr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||jS||this.g&&(this.h.h||this.g.ja()||qj(this.g)))){this.J||4!=l||7==e||Sd(),Dm(this);var n=this.g.da();this.ca=n;t:if(Dj(this)){var r=qj(this.g);t="";var i=r.length,s=4==Kr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Md(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Hfe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Id(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,pn(12),Lo(this),Md(this);break e}Mu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p0(this,n)}this.S?(bj(this,l,o),jS&&this.i&&3==l&&(pj(this.U,this.V,"tick",this.mb),this.V.start())):(Mu(this.j,this.m,o,null),p0(this,o)),4==l&&Lo(this),this.i&&!this.J&&(4==l?eH(this.l,this):(this.i=!1,Rd(this)))}else(function fpe(t){const e={};t=(t.g&&2<=Kr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Id(t[r]))continue;var n=Vfe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Rfe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),Lo(this),Md(this)}}}catch{}},R.mb=function(){if(this.g){var t=Kr(this.g),e=this.g.ja();this.C<e.length&&(Dm(this),bj(this,t,e),this.i&&4!=t&&Rd(this))}},R.cancel=function(){this.J=!0,Lo(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function zfe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sd(),pn(17)),Lo(this),this.o=2,Md(this)):Sj(this,this.Y-t)};var xj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fo){this.h=t.h,bm(this,t.j),this.s=t.s,this.g=t.g,Sm(this,t.m),this.l=t.l;var e=t.i,n=new Od;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Nj(this,n),this.o=t.o}else t&&(e=String(t).match(xj))?(this.h=!1,bm(this,e[1]||"",!0),this.s=kd(e[2]||""),this.g=kd(e[3]||"",!0),Sm(this,e[4]),this.l=kd(e[5]||"",!0),Nj(this,e[6]||"",!0),this.o=kd(e[7]||"")):(this.h=!1,this.i=new Od(null,this.h))}function Mi(t){return new Fo(t)}function bm(t,e,n){t.j=n?kd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Nj(t,e,n){e instanceof Od?(t.i=e,function npe(t,e){e&&!t.j&&(Is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Mj(this,r),Pj(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Pd(e,epe)),t.i=new Od(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Am(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function kd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xfe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pd(e,Rj,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Pd(e,Rj,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Pd(n,"/"==n.charAt(0)?Zfe:Jfe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pd(n,tpe)),t.join("")};var Rj=/[#\/\?@]/g,Jfe=/[#\?:]/g,Zfe=/[#\?]/g,epe=/[#\?@]/g,tpe=/#/g;function Od(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Is(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yfe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mj(t,e){Is(t),e=ku(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kj(t,e){return Is(t),e=ku(t,e),t.g.has(e)}function Pj(t,e,n){Mj(t,e),0<n.length&&(t.i=null,t.g.set(ku(t,e),BS(n)),t.h+=n.length)}function ku(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Oj(t){this.l=t||ipe,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Od.prototype).add=function(t,e){Is(this),this.i=null,t=ku(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){Is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){Is(this);let e=[];if("string"==typeof t)kj(this,t)&&(e=e.concat(this.g.get(ku(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return Is(this),this.i=null,kj(this,t=ku(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ipe=10;function Lj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Fj(t){return t.h?1:t.g?t.g.size:0}function g0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function m0(t,e){t.g?t.g.add(e):t.h=e}function Vj(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Uj(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return BS(t.i)}Oj.prototype.cancel=function(){if(this.i=Uj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var spe=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function ope(){this.g=new spe}function ape(t,e,n){const r=n||"";try{Aj(t,function(i,s){let o=i;wd(i)&&(o=r0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ld(t){this.l=t.fc||null,this.j=t.ob||!1}function Nm(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Ld,u0),Ld.prototype.g=function(){return new Nm(this.l,this.j)},Ld.prototype.i=function(t){return function(){return t}}({}),At(Nm,xt);var _0=0;function Bj(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Fd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vd(t)}function Vd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Nm.prototype).open=function(t,e){if(this.readyState!=_0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vd(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fd(this)),this.readyState=_0},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bj(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fd(this):Vd(this),3==this.readyState&&Bj(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,Fd(this))},R.Ya=function(t){this.g&&(this.response=t,Fd(this))},R.ka=function(){this.g&&Fd(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Nm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cpe=Q.JSON.parse;function Xe(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$j,this.L=this.M=!1}At(Xe,xt);var $j="",lpe=/^https?$/i,dpe=["POST","PUT"];function jj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hj(t),Rm(t)}function Hj(t){t.F||(t.F=!0,Bt(t,"complete"),Bt(t,"error"))}function zj(t){if(t.h&&typeof VS<"u"&&(!t.C[1]||4!=Kr(t)||2!=t.da()))if(t.v&&4==Kr(t))a0(t.La,0,t);else if(Bt(t,"readystatechange"),4==Kr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(xj)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!lpe.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var s=2<Kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Hj(t)}}finally{Rm(t)}}}function Rm(t,e){if(t.g){Gj(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Gj(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Kr(t){return t.g?t.g.readyState:0}function qj(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $j:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Wj(t){let e="";return KS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function y0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wj(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ud(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Kj(t){this.Ga=0,this.j=[],this.l=new wm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ud("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ud("baseRetryDelayMs",5e3,t),this.hb=Ud("retryDelaySeedMs",1e4,t),this.eb=Ud("forwardChannelMaxRetries",2,t),this.xa=Ud("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Oj(t&&t.concurrentRequestLimit),this.Ja=new ope,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function v0(t){if(Qj(t),3==t.H){var e=t.W++,n=Mi(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Bd(t,n),(e=new Nd(t,t.l,e)).L=2,e.v=Am(Mi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=iH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Rd(e)}nH(t)}function Mm(t){t.g&&(I0(t),t.g.cancel(),t.g=null)}function Qj(t){Mm(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Pm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function km(t){if(!Lj(t.i)&&!t.m){t.m=!0;var e=t.Na;Td||dj(),Dd||(Td(),Dd=!0),s0.add(e,t),t.C=0}}function Yj(t,e){var n;n=e?e.m:t.W++;const r=Mi(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),Bd(t,r),t.o&&t.s&&y0(r,t.o,t.s),n=new Nd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Xj(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),m0(t.i,n),f0(n,r,e)}function Bd(t,e){t.na&&KS(t.na,function(n,r){Ve(e,r,n)}),t.h&&Aj({},function(n,r){Ve(e,r,n)})}function Xj(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ape(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Jj(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Td||dj(),Dd||(Td(),Dd=!0),s0.add(e,t),t.A=0}}function w0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ad(Jt(t.Ma,t),tH(t,t.A)),t.A++,0))}function I0(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function Zj(t){t.g=new Nd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Mi(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),Bd(t,e),t.o&&t.s&&y0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Am(Mi(e)),n.s=null,n.S=!0,Tj(n,t)}function Pm(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function eH(t,e){var n=null;if(t.g==e){Pm(t),I0(t),t.g=null;var r=2}else{if(!g0(t.i,e))return;n=e.F,Vj(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Bt(r=Im(),new vj(r,n)),km(t)}else Jj(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ppe(t,e){return!(Fj(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ad(Jt(t.Na,t,e),tH(t,t.C)),t.C++,0)))}(t,e)||2==r&&w0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vo(t,5);break;case 4:Vo(t,10);break;case 3:Vo(t,6);break;default:Vo(t,2)}}function tH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new Fo("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||bm(n,"https"),Am(n)),function upe(t,e){const n=new wm;if(Q.Image){const r=new Image;r.onload=pm(xm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pm(xm,n,r,"TestLoadImage: error",!1,e),r.onabort=pm(xm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pm(xm,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pn(2);t.H=0,t.h&&t.h.za(e),nH(t),Qj(t)}function nH(t){if(t.H=0,t.ma=[],t.h){const e=Uj(t.i);(0!=e.length||0!=t.j.length)&&(X$(t.ma,e),X$(t.ma,t.j),t.i.i.length=0,BS(t.j),t.j.length=0),t.h.ya()}}function rH(t,e,n){var r=n instanceof Fo?Mi(n):new Fo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Sm(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fo(null);r&&bm(s,r),e&&(s.g=e),i&&Sm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),Bd(t,r),r}function iH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(n&&t.Ha&&!t.va?new Ld({ob:!0}):t.va)).Oa(t.J),e}function sH(){}function Om(){if(Ru&&!(10<=Number(Sfe)))throw Error("Environmental error: no available transport.")}function Un(t,e){xt.call(this),this.g=new Kj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Id(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Id(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Pu(this)}function oH(t){c0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function aH(){l0.call(this),this.status=1}function Pu(t){this.g=t}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function E0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=Xe.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():d0.g(),this.C=function Ij(t){return t.h||(t.h=t.i())}(this.u?this.u:d0),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void jj(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=Y$(dpe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gj(this),0<this.B&&((this.L=function hpe(t){return Ru&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=a0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jj(this,s)}},R.ua=function(){typeof VS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),Rm(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rm(this,!0)),Xe.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?zj(this):this.kb())},R.kb=function(){zj(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cpe(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=Kj.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nj(s),ij(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xj(this,i,e),Ve(n=Mi(this.I),"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),Bd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Wj(s)))+"&"+e:this.o&&y0(n,this.o,s)),m0(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,f0(i,n,null)):f0(i,n,e),this.H=2}}else 3==this.H&&(t?Yj(this,t):0==this.j.length||Lj(this.i)||Yj(this))},R.Ma=function(){if(this.u=null,Zj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ad(Jt(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pn(10),Mm(this),Zj(this))},R.ib=function(){null!=this.v&&(this.v=null,Mm(this),w0(this),pn(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pn(2)):(this.l.info("Failed to ping google.com"),pn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=sH.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},Om.prototype.g=function(t,e){return new Un(t,e)},At(Un,xt),Un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rH(t,null,t.Y),km(t)},Un.prototype.close=function(){v0(this.g)},Un.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=r0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&km(e)},Un.prototype.N=function(){this.g.h=null,delete this.j,v0(this.g),delete this.g,Un.$.N.call(this)},At(oH,c0),At(aH,l0),At(Pu,sH),Pu.prototype.Ba=function(){Bt(this.g,"a")},Pu.prototype.Aa=function(t){Bt(this.g,new oH(t))},Pu.prototype.za=function(t){Bt(this.g,new aH)},Pu.prototype.ya=function(){Bt(this.g,"b")},At(yr,function gpe(){this.blockSize=-1}),yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)E0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){E0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){E0(this,r),i=0;break}}this.h=i,this.i+=e},yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var mpe={};function C0(t){return-128<=t&&128>t?function Tfe(t,e){var n=mpe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ee([0|e],0>e?-1:0)}):new Ee([0|t],0>t?-1:0)}function Qr(t){if(isNaN(t)||!isFinite(t))return Ou;if(0>t)return $t(Qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=T0;return new Ee(e,0)}var T0=4294967296,Ou=C0(0),D0=C0(1),cH=C0(16777216);function ki(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function er(t){return-1==t.h}function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(D0)}function Lm(t,e){return t.add($t(e))}function Fm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $d(t,e){this.g=t,this.h=e}function Vm(t,e){if(ki(e))throw Error("division by zero");if(ki(t))return new $d(Ou,Ou);if(er(t))return e=Vm($t(t),e),new $d($t(e.g),$t(e.h));if(er(e))return e=Vm(t,$t(e)),new $d($t(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=D0,r=e;0>=r.X(t);)n=lH(n),r=lH(r);var i=Lu(n,1),s=Lu(r,1);for(r=Lu(r,2),n=Lu(n,2);!ki(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Lu(r,1),n=Lu(n,1)}return e=Lm(t,i.R(e)),new $d(i,e)}for(i=Ou;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Qr(n)).R(e);er(o)||0<o.X(t);)o=(s=Qr(n-=r)).R(e);ki(s)&&(s=D0),i=i.add(s),t=Lm(t,o)}return new $d(i,t)}function lH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Lu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}(R=Ee.prototype).ea=function(){if(er(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:T0+r)*e,e*=T0}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ki(this))return"0";if(er(this))return"-"+$t(this).toString(t);for(var e=Qr(Math.pow(t,6)),n=this,r="";;){var i=Vm(n,e).g,s=((0<(n=Lm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ki(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return er(t=Lm(this,t))?-1:ki(t)?0:1},R.abs=function(){return er(this)?$t(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ee(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(ki(this)||ki(t))return Ou;if(er(this))return er(t)?$t(this).R($t(t)):$t($t(this).R(t));if(er(t))return $t(this.R($t(t)));if(0>this.X(cH)&&0>t.X(cH))return Qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Fm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Fm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Fm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Fm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)},R.gb=function(t){return Vm(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)},Om.prototype.createWebChannel=Om.prototype.g,Un.prototype.send=Un.prototype.u,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Em.NO_ERROR=0,Em.TIMEOUT=8,Em.HTTP_ERROR=6,wj.COMPLETE="complete",Ej.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Xe.prototype.listenOnce=Xe.prototype.P,Xe.prototype.getLastError=Xe.prototype.Sa,Xe.prototype.getLastErrorCode=Xe.prototype.Ia,Xe.prototype.getStatus=Xe.prototype.da,Xe.prototype.getResponseJson=Xe.prototype.Wa,Xe.prototype.getResponseText=Xe.prototype.ja,Xe.prototype.send=Xe.prototype.ha,Xe.prototype.setWithCredentials=Xe.prototype.Oa,yr.prototype.digest=yr.prototype.l,yr.prototype.reset=yr.prototype.reset,yr.prototype.update=yr.prototype.j,Ee.prototype.add=Ee.prototype.add,Ee.prototype.multiply=Ee.prototype.R,Ee.prototype.modulo=Ee.prototype.gb,Ee.prototype.compare=Ee.prototype.X,Ee.prototype.toNumber=Ee.prototype.ea,Ee.prototype.toString=Ee.prototype.toString,Ee.prototype.getBits=Ee.prototype.D,Ee.fromNumber=Qr,Ee.fromString=function uH(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $t(uH(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qr(Math.pow(e,8)),r=Ou,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qr(Math.pow(e,s)),r=r.R(s).add(Qr(o))):r=(r=r.R(n)).add(Qr(o))}return r},_r.createWebChannelTransport=function(){return new Om},_r.getStatEventTarget=function(){return Im()},_r.ErrorCode=Em,_r.EventType=wj,_r.Event=Oo,_r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_r.FetchXmlHttpFactory=Ld,_r.WebChannel=Ej,_r.XhrIo=Xe,_r.Md5=yr;var _pe=_r.Integer=Ee;const dH="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let jd="9.23.0";const Es=new lo("@firebase/firestore");function D(t,...e){if(Es.logLevel<=he.DEBUG){const n=e.map(S0);Es.debug(`Firestore (${jd}): ${t}`,...n)}}function st(t,...e){if(Es.logLevel<=he.ERROR){const n=e.map(S0);Es.error(`Firestore (${jd}): ${t}`,...n)}}function S0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function F(t,e){t||P()}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ype{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class vpe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wpe{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(F("string"==typeof r.accessToken),new hH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return F(null===e||"string"==typeof e),new Nt(e)}}class Ipe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Epe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ipe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cpe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(F("string"==typeof n.token),this.T=n.token,new fH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tpe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pH{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Tpe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}class Um{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Um.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Um?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Um{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(ce.fromString(e))}static fromName(e){return new A(ce.fromString(e).popFirst(5))}static empty(){return new A(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new ce(e.slice()))}}function Ts(t){return"IndexedDbTransactionError"===t.name}class Oe{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xH(this.data.getIterator())}getIteratorFrom(e){return new xH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class xH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class NH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NH("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}vt.EMPTY_BYTE_STRING=new vt("");class Xpe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class $o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $o("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}var dt,le;new Oe(A.comparator),new Oe(A.comparator),new Oe(A.comparator),new Ue(A.comparator),new Ue(q),(le=dt||(dt={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS",new _pe([4294967295,4294967295],0);class Yo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function qd(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function Pi(t){return"string"==typeof t?vt.fromBase64String(t):vt.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function PH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),A.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Yo.Ve=new Yo,new Uint8Array(0);class tn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y_(){return typeof document<"u"?document:null}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class EA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class $A{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $A(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class u_e{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=pH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function nc(t,e){if(st("AsyncQueue",`${e}: ${t}`),Ts(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function YG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const XG=new Map;function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function b_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class t4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function __e(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=YG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t4(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ype;switch(n.type){case"firstParty":return new Epe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=XG.get(e);n&&(D("ComponentProvider","Removing Datastore"),XG.delete(e),n.terminate())}(this),Promise.resolve()}}class w_e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EA(this,"async_queue_retry"),this.Xc=()=>{const n=y_();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=y_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=y_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new yt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ts(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=$A.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class $e extends Ih{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new w_e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function r4(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Xpe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YG(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new u_e(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function E_e(t,e){const r="string"==typeof t?t:e||"(default)",i=po("object"==typeof t?t:Qp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JF("firestore");s&&function y_e(t,e,n,r={}){var i;const s=(t=ae(t,Ih))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function Yr(t,...e){if(Es.logLevel<=he.WARN){const n=e.map(S0);Es.warn(`Firestore (${jd}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Nt.MOCK_USER;else{a=t2(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(c)}t._authCredentials=new vpe(new hH(a,u))}}(i,...s)}return i}!function(t,e=!0){jd=is,Yt(new Ft("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new $e(new wpe(n.getProvider("auth-internal")),new Cpe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fe(dH,"3.13.0",t),Fe(dH,"3.13.0","esm2017")}();class Lx{constructor(e){return e}}const T4="firestore",Fx=new V("angularfire2.firestore-instances");function Q_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Lx(r)}}const Y_e={provide:class W_e{constructor(){return ig(T4)}},deps:[[new mt,Fx]]},X_e={provide:Lx,useFactory:function K_e(t,e){const n=rg(T4,t,e);return n&&new Lx(n)},deps:[[new mt,Fx],Io]};let J_e=(()=>{class t{constructor(){Fe("angularfire",Pl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t}),t.\u0275inj=zn({providers:[X_e,Y_e]}),t})();function Z_e(t,...e){return{ngModule:J_e,providers:[{provide:Fx,useFactory:Q_e(t),multi:!0,deps:[be,Pn,sg,ag,[new mt,bb],[new mt,gg],...e]}]}}const eye=og(E_e,!0);let tye=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ir({type:t,bootstrap:[hte]}),t.\u0275inj=zn({imports:[TJ,dte,ooe(()=>aoe(uoe_firebase)),jce(()=>Hce()),gfe(()=>mfe()),Z_e(()=>eye())]}),t})();EJ().bootstrapModule(tye).catch(t=>console.error(t))}},De=>{De(De.s=35)}]);